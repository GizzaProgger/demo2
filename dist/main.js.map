{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tiny-slider/src/helpers/childNode.remove.js","webpack:///./node_modules/tiny-slider/src/helpers/keys.js","webpack:///./src/scripts/outher.js","webpack:///./src/scripts/quiz.js","webpack:///./src/scripts/tip.js","webpack:///./src/scripts/video.js","webpack:///./src/scripts/modals.js","webpack:///./src/scripts/observer.js","webpack:///./node_modules/tiny-slider/src/helpers/checkStorageValue.js","webpack:///./node_modules/tiny-slider/src/helpers/setLocalStorage.js","webpack:///./node_modules/tiny-slider/src/helpers/getBody.js","webpack:///./node_modules/tiny-slider/src/helpers/docElement.js","webpack:///./node_modules/tiny-slider/src/helpers/setFakeBody.js","webpack:///./node_modules/tiny-slider/src/helpers/resetFakeBody.js","webpack:///./node_modules/tiny-slider/src/helpers/addCSSRule.js","webpack:///./node_modules/tiny-slider/src/helpers/getCssRulesLength.js","webpack:///./node_modules/tiny-slider/src/helpers/hasClass.js","webpack:///./node_modules/tiny-slider/src/helpers/addClass.js","webpack:///./node_modules/tiny-slider/src/helpers/removeClass.js","webpack:///./node_modules/tiny-slider/src/helpers/hasAttr.js","webpack:///./node_modules/tiny-slider/src/helpers/isNodeList.js","webpack:///./node_modules/tiny-slider/src/helpers/setAttrs.js","webpack:///./node_modules/tiny-slider/src/helpers/removeAttrs.js","webpack:///./node_modules/tiny-slider/src/helpers/hideElement.js","webpack:///./node_modules/tiny-slider/src/helpers/showElement.js","webpack:///./node_modules/tiny-slider/src/helpers/whichProperty.js","webpack:///./node_modules/tiny-slider/src/helpers/getEndProperty.js","webpack:///./node_modules/tiny-slider/src/helpers/passiveOption.js","webpack:///./node_modules/tiny-slider/src/helpers/addEvents.js","webpack:///./node_modules/tiny-slider/src/helpers/removeEvents.js","webpack:///./node_modules/tiny-slider/src/helpers/events.js","webpack:///./node_modules/tiny-slider/src/tiny-slider.js","webpack:///./node_modules/tiny-slider/src/helpers/subpixelLayout.js","webpack:///./node_modules/tiny-slider/src/helpers/calc.js","webpack:///./node_modules/tiny-slider/src/helpers/mediaquerySupport.js","webpack:///./node_modules/tiny-slider/src/helpers/extend.js","webpack:///./node_modules/tiny-slider/src/helpers/getSlideId.js","webpack:///./node_modules/tiny-slider/src/helpers/createStyleSheet.js","webpack:///./node_modules/tiny-slider/src/helpers/jsTransform.js","webpack:///./node_modules/tiny-slider/src/helpers/getAttr.js","webpack:///./node_modules/tiny-slider/src/helpers/imageLoaded.js","webpack:///./node_modules/tiny-slider/src/helpers/getTouchDirection.js","webpack:///./node_modules/tiny-slider/src/helpers/toDegree.js","webpack:///./src/scripts/slidersInit.js","webpack:///./src/scripts/sendForm.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Element","remove","this","parentNode","removeChild","keys","push","Date","getWorkTime","dateStr","workTime","day","getDay","document","querySelector","start","end","res","split","now","minutes","hours","sum","getTime","String","getMinutes","length","getHours","selected","generateArrOptionFromWorkTime","forEach","time","insertAdjacentHTML","setTimeToCallInput","querySelectorAll","el","date","getMonth","style","position","innerHTML","resultsTexts","1","top","list","2","3","4","5","6","7","8","default","levels","Quiz","currentStep","block","numberSteps","init","selector","setNumberSteps","addEventListener","e","goToNextStep","selectingInit","finish","updateBlock","updateProgressbar","getPercentCompleted","changeProgressBarColor","setBeforeFinalView","classList","add","width","level","getLevel","console","log","updateResultsModal","vars","setHtmlInsteadEl","html","inp","checked","values","findIndex","item","find","itemI","firstIndex","filter","percent","dataset","openModal","color","children","parentElement","parent","val","setView","tipFactory","self","appendTipToPage","showTip","tip","hiddenTip","text","box","getBoundingClientRect","left","x","bottom","height","window","innerHeight","body","videoObjFactory","setVideo","setAttribute","container","media","paused","opacity","play","pause","modalsFactory","closeSelector","observers","config","initHandlerOpen","element","parentModal","getParentModal","closeModal","closeModalAfterWrapClick","node","preventDefault","wrap","target","overflow","onMutation","mutationsList","mutation","type","attributeName","modal","contains","observer","callbacks","attributes","childList","subtree","setObserver","observe","MutationObserver","callback","checkStorageValue","indexOf","JSON","parse","setLocalStorage","access","localStorage","setItem","getBody","doc","createElement","fake","docElement","documentElement","setFakeBody","docOverflow","background","appendChild","resetFakeBody","offsetHeight","addCSSRule","sheet","rules","index","insertRule","addRule","getCssRulesLength","cssRules","hasClass","str","className","addClass","removeClass","replace","hasAttr","attr","hasAttribute","isNodeList","setAttrs","els","attrs","Array","toString","removeAttrs","attrLength","j","removeAttribute","hideElement","showElement","whichProperty","props","prop","undefined","getEndProperty","propIn","propOut","endProp","test","toLowerCase","supportsPassive","passiveOption","passive","addEvents","obj","option","removeEvents","removeEventListener","Events","topics","on","eventName","fn","off","splice","emit","data","browserInfo","navigator","userAgent","localStorageAccess","tnsStorage","removeItem","child2","supported","child1","win","KEYS","CALC","div","result","vals","offsetWidth","calc","SUBPIXEL","cssText","cloneNode","offsetTop","CSSMQ","rule","styleSheet","createTextNode","getComputedStyle","currentStyle","mediaquerySupport","TRANSFORM","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","tns","options","copy","arguments","extend","axis","items","gutter","edgePadding","fixedWidth","slideBy","controls","controlsText","controlsContainer","nav","navContainer","arrowKeys","speed","autoplay","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","loop","rewind","autoHeight","responsive","lazyload","touch","mouseDrag","nested","onInit","nodeName","resTem","carousel","animateIn","animateOut","animateDelay","animateNormal","vpInner","horizontal","outerWrapper","innerWrapper","containerParent","slideItems","slideCount","vpOuter","clientWidth","responsiveItems","breakpoints","breakpointZone","breakpointZoneAdjust","map","parseInt","sort","a","b","bp","concat","arr","getBreakpointZone","slideOffsetTops","resizeTimer","touchedOrDraged","id","getOption","slideItemsOut","cloneCount","checkOption","slideCountNew","hasRightDeadZone","checkIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","indexCached","indexAdjust","indexMin","indexMax","running","events","containerIdCached","classContainer","slideId","tnsId","disable","freeze","importantStr","controlsEvents","onControlsClick","event","keyCode","prevButton","disabled","nextButton","goTo","navEvents","srcElement","navClicked","navItems","curElement","activeElement","code","navIndex","len","visibleNavIndexes","current","getNavIndex","num","setFocus","hoverEvents","animating","stopAction","autoplayHoverStopped","startAction","visibilityEvent","autoplayResetVisibilityState","hidden","pauseActionTimer","resetActionTimer","docmentKeydownEvent","touchEvents","onTouchOrMouseStart","onTouchOrMouseMove","onTouchOrMouseEnd","dragEvents","hasControls","hasNav","hasAutoplay","hasTouch","hasMouseDrag","prevIsButton","nextIsButton","visibleNavIndexesCached","navCurrentIndex","navCurrentIndexCached","navActiveClass","autoplayTimer","autoplayHtmlStrings","translateInit","disX","disY","startX","startY","isDragEvent","insertBefore","classOuter","classInner","eve","onTransitionEnd","fragmentBefore","createDocumentFragment","fragmentAfter","cloneFirst","firstChild","cloneLast","cssFontSize","fontSize","parseFloat","slide","marginLeft","getSlideMarginLeft","getInnerWrapperStyles","getContainerWidth","getSlideWidthStyle","getSlideGutterStyle","getSlideOffsetTops","updateContentWrapperHeight","opts","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","edgePaddingBP","gutterBP","doContainerTransform","msMaxTouchPoints","ie10Scroll","setSnapInterval","initIndex","navHtml","updateNavVisibility","prefix","substring","txt","toggleAnimation","isButton","disEnableElement","resizeTasks","info","onResize","runAutoHeight","lazyLoad","checkFixedWidthSlideCount","disableSlider","checkIndex","leftEdge","rightEdge","gt","Math","max","min","transformCore","duration","distance","getContainerTransformValue","containerRightEdge","postfix","to","tick","unit","from","Number","positionTick","setTimeout","moveElement","jsTransform","animateSlide","getInfo","destroy","view","floor","edgePaddingTem","gutterTem","fixedWidthTem","gap","itemsTem","dividend","clearTimeout","breakpointZoneTem","indexTem","freezeTem","arrowKeysTem","autoHeightTem","disableTem","controlsTem","controlsTextTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","autoplayTextTem","removeRule","doTransform","updateSlideStatus","updateControlsStatus","updateNavStatus","margin","classN","img","stopPropagation","src","getAttribute","images","updateInnerWrapperHeight","checkImagesLoaded","complete","naturalWidth","imageLoaded","maxHeight","heights","apply","setDurations","topFirst","msScrollSnapPointsX","navPrev","navCurrent","isAriaDisabled","prevDisabled","nextDisabled","disablePrev","disableNext","number","classOut","classIn","isOut","render","strTrans","propertyName","targetIndex","absIndex","indexGap","isNaN","absTargetIndex","dir","shouldRender","updateAutoplayButton","action","clearInterval","setInterval","focus","scrollLeft","isTouchEvent","preventDefaultBehavior","returnValue","ev","changedTouches","clientX","clientY","angle","range","direction","y","atan2","PI","toDegree","abs","indexMoved","ceil","moved","getTarget","preventClick","absIndexMin","unshift","getVisibleNavIndex","ind","photoSlider","center","autoPlayWhileNotClicked","reviewsSlider","initNavs","slider","carouselElement","next","back","prev","interval","iId","slidersFactory","form","async","msg","msgFromForm","formData","FormData","append","fetch","method","json","redirectTo","getQuery","location","href","alert","formTitle","label","q","formFactory","OutherInit","Tip","Video","modals","Modals","Observer","SlidersInit","FormInit","exitModalDontOpened","relatedTarget"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","// ChildNode.remove\n(function () {\n  \"use strict\";\n\n  if(!(\"remove\" in Element.prototype)){\n    Element.prototype.remove = function(){\n      if(this.parentNode) {\n        this.parentNode.removeChild(this);\n      }\n    };\n  }\n})();\n","// keys\nif (!Object.keys) {\n    Object.keys = function (object) {\n        var keys = [];\n        for (var name in object) {\n            if (Object.prototype.hasOwnProperty.call(object, name)) {\n                keys.push(name);\n            }\n        }\n        return keys;\n    };\n}","export default () => {\r\n  let oldImgUrl = \"\";\r\n  () => {\r\n    if (!document.querySelector(\".div-pole-otcritka img\")) return;\r\n    document.querySelector(\".div-pole-otcritka img\").addEventListener(\"mouseover\", e => {\r\n      oldImgUrl = e.target.getAttribute(\"src\");\r\n      e.target.setAttribute(\"src\", \"https://im0-tub-ru.yandex.net/i?id=bde4069236c02909b3fe6ae1e6643c92&n=13&exp=1\");\r\n    })\r\n  }\r\n  () => {\r\n    if (!document.querySelector(\".div-pole-otcritka img\")) return;\r\n    document.querySelector(\".div-pole-otcritka img\").addEventListener(\"mouseout\", e => {\r\n      e.target.setAttribute(\"src\", oldImgUrl);\r\n    })\r\n  }\r\n  let date = new Date();\r\n  function getWorkTime(dateStr) {\r\n    let date = dateStr ? new Date(dateStr) : new Date();\r\n    let day = date.getDay();\r\n    // Если воскресенье или суббота или пятница\r\n    let workTime;\r\n    if (day == 0 || day == 6 || day == 5) {\r\n      workTime = \"12:00, 16:30\";\r\n    } else {\r\n      workTime = \"12:00, 21:30\";\r\n    }\r\n    return workTime;\r\n  }\r\n  // Установить текущею дату\r\n  () => {\r\n    if (!document.querySelector(\".text-field-data\"))\r\n    document.querySelector(\".text-field-data\").value = date.toISOString().substring(0, 10); \r\n  }\r\n  function setTimeToCallInput(dateStr) {\r\n    if (!document.querySelector(\"#time\")) return;\r\n    let workTime = getWorkTime(dateStr);\r\n    let times = generateArrOptionFromWorkTime(workTime.split(\",\")[0], workTime.split(\",\")[1]);\r\n    times.forEach(time => {\r\n      document.querySelector(\"#time\").insertAdjacentHTML(\"beforeend\", `<option ${time.selected} value=\"${time.value}\">${time.value}</option>`);\r\n    });\r\n  }\r\n  function generateArrOptionFromWorkTime(start, end) {\r\n    let res = [];\r\n    let i = 0;\r\n    start = new Date(2021, 0, 1, start.split(\":\")[0], start.split(\":\")[1])\r\n    end = new Date(2021, 0, 1, end.split(\":\")[0], end.split(\":\")[1])\r\n    let sum = start.getTime();\r\n    let hulfHour = 1000 * 60 * 30;\r\n    let now, minutes, hours;\r\n    while (sum < end.getTime() + 1 && i < 24) {\r\n      i++;\r\n      now = new Date(sum);\r\n      minutes = String(now.getMinutes());\r\n      minutes = minutes.length < 2 ? minutes + \"0\" : minutes;\r\n      hours = String(now.getHours());\r\n      // Заказчик попросил обработать особый случай и вставлять 15:15 в форму\r\n      if (minutes == \"00\" && hours == \"15\") {\r\n        res.push({\r\n          selected: \"selected\",\r\n          value: `15:15`\r\n        });  \r\n      }\r\n      res.push({\r\n        selected: \"\",\r\n        value: `${hours}:${minutes}`\r\n      });\r\n      sum += hulfHour;\r\n    }\r\n    return res;\r\n  }\r\n  setTimeToCallInput();\r\n  \r\n  function getDateInSPB() {\r\n    let date = new Date();\r\n    return new Date(+date + (date.getTimezoneOffset() + 3 * 60) * 60 * 1000);\r\n  }\r\n\r\n  function officeIsWork() {\r\n    let workTime = getWorkTime().split(\",\");\r\n    let dateInSPB = getDateInSPB();\r\n    let startDate = new Date(2021, 1, 1, workTime[0].split(\":\")[0], workTime[0].split(\":\")[1]);\r\n    let endDate = new Date(2021, 1, 1, workTime[1].split(\":\")[0], workTime[1].split(\":\")[1]);\r\n    let currentDate = new Date(2021, 1, 1, dateInSPB.getHours(), dateInSPB.getMinutes());\r\n\r\n    if (+startDate <= +currentDate && +currentDate <= +endDate) return true;\r\n    return false;\r\n  }\r\n\r\n  () => {\r\n    if (!document.querySelector(\".online--work\") || !document.querySelector(\".online--dont-work\")) return;\r\n    let officeDontWork = !officeIsWork();\r\n    if (officeDontWork) {\r\n      document.querySelector(\".online--work\").classList.add(\"online--hidden\")\r\n      document.querySelector(\".online--dont-work\").classList.remove(\"online--hidden\")\r\n    }\r\n  }\r\n  \r\n  document.querySelectorAll(`[data-date-format]`).forEach(el => {\r\n    let date = new Date();\r\n    let day = String(date.getDay());\r\n    let m = String(date.getMonth());\r\n    el.style.position = \"relative\";\r\n    el.innerHTML = `${day.length == 1 ? 0 + day : day}.${m.length == 1 ? 0 + m : m}`;\r\n    el.insertAdjacentHTML('beforeend', \"<input type='date' style='width: 100%; height: 100%; opacity: 0; position: absolute; top: 0; left: 0' />\")\r\n  });\r\n\r\n  // document.querySelectorAll(\"[data-date-format]\").forEach(el => {\r\n  //   el.addEventListener(\"change\", () => {\r\n  //     el.setAttribute(\"data-date\",\r\n  //     moment(el.value, \"YYYY-MM-DD\")\r\n  //     .format( el.getAttribute(\"data-date-format\") )\r\n  //     )\r\n  //   })\r\n  // })\r\n};\r\n","let resultsTexts = {\r\n  1: {\r\n    top: `\r\n    Прекрасно, что вы только начинаете изучать язык!\r\n    <br><br>\r\n    Вам подойдет стандартный курс английского языка для взрослых с нуля.\r\n    <br><br>\r\n    После него вы сможете говорить на английском. Пока простыми предложениями – достаточными, чтобы рассказать о себе, узнать дорогу в поездке за границей, понять основной смысл разговора.\r\n    <br>\r\n    <br>\r\n    `,\r\n    list: `\r\n    <li class=\"list-item-sait\">\r\n      <div class=\"text-list\">и даже можно посетить бесплатно 3 пробных занятия<br>на разных курсах: стандартный, разговорный и т. д.</div>\r\n    </li>\r\n    `\r\n  },\r\n  2: {\r\n    top: `\r\n    Обучение деловому английскому языку поможет вам общаться на профессиональные темы и уверенно чувствовать себя в англоязычной среде.\r\n    <br><br>\r\n    Курс «Business English» рассчитан на уровень Intermediate и выше. Если уровень ниже, рекомендуем сначала пройти базовый курс английского языка. \r\n    <br>\r\n    <br>\r\n    `,\r\n  },\r\n  3: {\r\n    top: `\r\n    Для подготовки к международным экзаменам IELTS, TOEFL и Cambridge English должен быть уровень английского языка не ниже Intermediate. \r\n    <br><br>\r\n    Чаще всего выбирают индивидуальные занятия для максимально эффективной подготовки к экзамену .\r\n    <br><br>\r\n    `\r\n  },\r\n  4: {\r\n    top: `\r\n    При хорошем знании английского рекомендуем взрослым занятия с носителем. \r\n    <br><br>\r\n    Общение в непринужденной обстановке с опытным преподавателем поможет быстро преодолеть языковой барьер, расширить словарный запас и улучшить произношение.\r\n    <br><br>\r\n    `,\r\n    list: `\r\n    <li class=\"list-item-sait\">\r\n      <div class=\"text-list\">и даже можно посетить бесплатно 3 пробных занятия на разных курсах: стандартный, разговорный и т. д.</div>\r\n    </li>\r\n    `\r\n  },\r\n  5: {\r\n    top: `\r\n    Улучшить произношение помогут занятия с носителем или фонетический курс.\r\n    <br><br>\r\n    Этот курс анлийского предназначен для начинающих взрослых и для тех, кто хочет исправить ошибки в произношении. Он поможет поставить правильное британское или американское произношение.\r\n    <br><br>\r\n    `,\r\n  },\r\n  6: {\r\n    top: `\r\n    Курс для студентов подойдет учащимся с базовым уровнем английского, а также для подготовки к учебе и стажировке за границей, к работе в международных компаниях.\r\n    <br><br>\r\n    На занятиях вы научитесь грамотно говорить и писать, читать профессиональную литературу и делать резюме прочитанного, уверенно общаться с носителями языка.\r\n    <br><br>\r\n    `,\r\n  },\r\n  7: {\r\n    top: `\r\n    Для IT-специалистов есть специальный курс английского. Он рассчитан на уровень Intermediate и выше. Если уровень ниже, рекомендуем сначала пройти стандартный курс. \r\n    <br><br>\r\n    `,\r\n  },\r\n  8: {\r\n    top: `\r\n    Если вам нужно за 1–2 месяца получить базовые знания или быстро перейти на следующий уровень владения английским языком, вам подойдет интенсивный курс.\r\n    <br><br>\r\n    Ежедневные занятия помогают погрузиться в языковую среду и начать не только говорить, а еще и думать на английском.\r\n    <br><br>\r\n    `,\r\n  },\r\n  default: {\r\n    top: `\r\n    Оптимальный вариант – стандартный курс английского языка для взрослых. На нем вы научитесь разговаривать, читать, писать и понимать иностранцев. \r\n    <br><br>\r\n    На занятиях вы будете слушать песни и записи носителей с британским и американским акцентами, смотреть отрывки из фильмов, играть в разговорные игры.\r\n    `,\r\n    list: `\r\n    <li class=\"list-item-sait\">\r\n      <div class=\"text-list\">и даже можно посетить бесплатно 3 пробных занятия</div>\r\n    </li>\r\n    <li class=\"list-item-sait\">\r\n      <div class=\"text-list\">на разных курсах: стандартный, разговорный и т. д.</div>\r\n    </li>\r\n    `\r\n  },\r\n}\r\n\r\nlet levels = {\r\n  1: \"8, 9\",\r\n  2: \"2, 19\",\r\n  3: 5,\r\n  4: \"10, 11\",\r\n  5: 17,\r\n  6: 18,\r\n  7: 20,\r\n  8: 23\r\n}\r\n\r\nlet Quiz = {\r\n  currentStep: 1,\r\n  block: null,\r\n  numberSteps: 1,\r\n  resultsTexts: {},\r\n  levels: {},\r\n  init(selector, { resultsTexts, levels }) {\r\n    this.resultsTexts = resultsTexts;\r\n    this.levels = levels;\r\n    this.block = document.querySelector(`${selector}`);\r\n    if (!this.block) return;\r\n    this.setNumberSteps();\r\n    if (!document.querySelector(`${selector} .block-button .button`)) return\r\n    document.querySelector(`${selector} .block-button .button`)\r\n      .addEventListener(\"click\", e => {\r\n        this.goToNextStep();\r\n      })\r\n    this.selectingInit();\r\n  },\r\n  goToNextStep() {\r\n    if (this.currentStep == this.numberSteps) this.finish();\r\n    if (this.currentStep >= this.numberSteps) return;\r\n    this.currentStep++;\r\n    this.updateBlock();\r\n    this.updateProgressbar();\r\n    if (this.getPercentCompleted() > 45) this.changeProgressBarColor(\"#fff\");\r\n    if (this.currentStep == this.numberSteps) this.setBeforeFinalView();\r\n  },\r\n  updateBlock() {\r\n    if (!this.block.querySelectorAll(\".form-block-choice-block\")) return;\r\n    this.block.querySelectorAll(\".form-block-choice-block\").forEach(e => {\r\n      e.classList.remove(\"form-block-choice-block--active\")\r\n    });\r\n    if (!this.block.querySelector(`.form-block-choice-block:nth-child(${this.currentStep})`)) return\r\n    this.block.querySelector(`.form-block-choice-block:nth-child(${this.currentStep})`)\r\n      .classList.add(\"form-block-choice-block--active\");\r\n  },\r\n  updateProgressbar() {\r\n    if (!this.block.querySelector(\".bar-choice\")) return;\r\n    this.block.querySelector(\".bar-choice\").style.width = this.getPercentCompleted() + \"%\";\r\n    if (!this.block.querySelector(\".current_step\")) return;\r\n    this.block.querySelector(\".current_step\").innerHTML = `${this.currentStep} из ${this.numberSteps}`\r\n  },\r\n  finish() {\r\n    let level = this.getLevel();\r\n    console.log(level)\r\n    this.updateResultsModal(level);\r\n  },\r\n  updateResultsModal(vars) {\r\n    for (const key in vars) {\r\n      this.setHtmlInsteadEl(key, vars[key]);\r\n    }\r\n  },\r\n  setHtmlInsteadEl(name, html) {\r\n    let el = document.querySelector(`[data-js-var='${name}']`);\r\n    el.insertAdjacentHTML(\"afterend\", html);\r\n    el.remove();\r\n  },\r\n  getLevel() {\r\n    let res = [];\r\n    this.block.querySelectorAll(\"input\").forEach((inp, i) => {\r\n      if (inp.checked) {\r\n        console.log(inp.parentNode.querySelector(\".w-form-label\").innerHTML)\r\n        let levels = Object.values(this.levels);\r\n        res.push(\r\n          levels.findIndex(item => {\r\n            return String(item).split(\",\").find(itemI => String(itemI) == String(i + 1))\r\n          })\r\n        )\r\n      }\r\n    });\r\n    let firstIndex = res.filter(r => r != -1)[0];\r\n    let level = this.resultsTexts[Object.keys(this.levels)[firstIndex]]\r\n    console.log(res)\r\n    return level || this.resultsTexts.default;\r\n  },\r\n  getPercentCompleted() {\r\n    let percent;\r\n    if (this.currentStep === 1) percent = 21;\r\n    else if (this.currentStep === 2) percent = 36;\r\n    else percent = (100 / this.numberSteps) * this.currentStep;\r\n    return percent; \r\n  },\r\n  setBeforeFinalView() {\r\n    document.querySelector(\".block-button .button\").innerHTML = `\r\n      Узнать свой идеальный формат\r\n      <br>\r\n      и получить подарок\r\n    `;\r\n    document.querySelector(\".block-button .button\").dataset.openModal = \"finish-qiuz\";\r\n  },\r\n  changeProgressBarColor(color) {\r\n    this.block.querySelector(\".current_step\").style.color = color;\r\n  },\r\n  setNumberSteps() {\r\n    this.numberSteps = this.block.querySelector(\".quiz-steps\").children.length;\r\n  },\r\n  selectingInit() {\r\n    let setView = (parent, val) => parent.querySelector(\".dynamic\").style = `opacity: ${val ? \"1\" : \"0\"};`\r\n    document.querySelectorAll(\".quiz .w-checkbox\").forEach(el => {\r\n      el.addEventListener(\"click\", e => {\r\n        let parent = el.parentElement.parentElement;\r\n        parent.querySelectorAll(\"input\").forEach((e, i) => {\r\n          setView(e.parentElement, e.checked);\r\n        })\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport { Quiz, resultsTexts, levels };","// Если хочешь, чтобы при наведении на элемент появлялась подсказка,\r\n// то на него вешай data-tip=\"Какой-то html\"\r\nconst tipFactory = () => {\r\n  let o = {\r\n    init() {\r\n      self.appendTipToPage();\r\n      document.querySelectorAll(\"[data-tip]\").forEach(el => {\r\n        el.addEventListener(\"mouseover\", e => self.showTip(el, el.dataset.tip));\r\n        el.addEventListener(\"mouseout\", self.hiddenTip)\r\n      }) \r\n    },\r\n    showTip(el, text) {\r\n      let tip = document.querySelector(\".div-hint\");\r\n      tip.querySelector(\".text-hint\").innerHTML = text;\r\n      let box = el.getBoundingClientRect();\r\n      tip.style.left = box.x + box.width / 2 - tip.getBoundingClientRect().width / 2 + \"px\";\r\n      let top = box.bottom;\r\n      if (top + tip.getBoundingClientRect().height > window.innerHeight) {\r\n        top -= top + tip.getBoundingClientRect().height - window.innerHeight + 10;\r\n      }\r\n      tip.style.top = top + \"px\";\r\n      tip.classList.add(\"div-hint--active\");\r\n    },\r\n    hiddenTip() {\r\n      document.querySelector(\".div-hint\").classList.remove(\"div-hint--active\")\r\n    },\r\n    appendTipToPage() {\r\n      let tip = `\r\n      <div class=\"div-hint\">\r\n        <div class=\"text-hint\"></div>\r\n        <div class=\"point-block-hint\"></div>\r\n      </div>\r\n      `;\r\n      document.body.insertAdjacentHTML(\"beforeend\", tip);\r\n    }\r\n  };\r\n  let self = o;\r\n  return o;\r\n}\r\n\r\nexport default tipFactory();","const videoObjFactory = () => {\r\n  let o = {\r\n    init() {\r\n      if (!document.querySelectorAll(\"[data-set-video]\")) return\r\n      document.querySelectorAll(\"[data-set-video]\").forEach(el => {\r\n        el.addEventListener(\"click\", e => {\r\n          console.log(el.dataset.setVideo)\r\n          document.querySelector(\".block-lbock_video video\").setAttribute(\"src\", el.dataset.setVideo)\r\n        })\r\n      })\r\n      if (!document.querySelector(\".block-lbock_video\")) return;\r\n      document.querySelector(\".block-lbock_video\").addEventListener(\"click\", e => {\r\n        let container = document.querySelector(\".block-lbock_video\");\r\n        let media = container.querySelector(\"video\");\r\n        if (media.paused) {\r\n          container.querySelector(\".link-video-lbock\").style.opacity = \"0\";\r\n          media.play();\r\n        } else {\r\n          media.pause();\r\n        }\r\n        media.addEventListener(\"pause\", () => {\r\n          container.querySelector(\".link-video-lbock\").style.opacity = \"1\";\r\n        })\r\n      })\r\n    }\r\n  }\r\n  return o;\r\n}\r\n\r\nexport default videoObjFactory();","const modalsFactory = () => {\r\n  let object = {\r\n    closeSelector: \"\",\r\n    observers: [],\r\n    init(config) {\r\n      self.closeSelector = config.closeSelector;\r\n      document.querySelectorAll(\"[data-open-modal]\").forEach(self.initHandlerOpen);\r\n      document.querySelectorAll(self.closeSelector).forEach(element => {\r\n        let parentModal = self.getParentModal(element);\r\n        if (parentModal) {\r\n          element.addEventListener(\"click\", () => self.closeModal(parentModal));\r\n        }\r\n      });\r\n      self.closeModalAfterWrapClick(\".lbock_bg\");\r\n      self.closeModalAfterWrapClick(\".modal-wrappper\");\r\n      return self;\r\n    },\r\n    initHandlerOpen(node) {\r\n      node.addEventListener(\"click\", e => {\r\n        e.preventDefault();\r\n        self.openModal(node.dataset.openModal);\r\n      })\r\n    },\r\n    closeModalAfterWrapClick(wrap) {\r\n      document.querySelectorAll(wrap).forEach(el => {\r\n        el.addEventListener(\"click\", e => {\r\n          console.log(e.target, el)\r\n          if (e.target === el) {\r\n            self.closeModal(el.parentElement.parentElement);\r\n            self.closeModal(el.parentElement);\r\n          }\r\n        })\r\n      })\r\n    },\r\n    openModal(selector) {\r\n      let modal = document.querySelector([`[data-modal-name=${selector}`]) || document.querySelector(selector);\r\n      modal.classList.add(\"modal--open\");\r\n      document.body.style.overflow = \"hidden\";\r\n    },\r\n    onMutation(mutationsList) {\r\n      for (let mutation of mutationsList) {\r\n        if (mutation.type === \"attributes\" && mutation.attributeName === \"data-open-modal\") {\r\n          self.initHandlerOpen(mutation.target);\r\n        }\r\n      }\r\n    },\r\n    closeModal(modal) {\r\n      modal.classList.remove(\"modal--open\");\r\n      document.body.style.overflow = \"auto\";\r\n    },\r\n    getParentModal(children) {\r\n      if (!children) return;\r\n      if (children.classList.contains(\"modal\")) return children;\r\n      return self.getParentModal(children.parentElement)\r\n    },\r\n  }\r\n  let self = object;\r\n  return object;\r\n};\r\nexport default modalsFactory();\r\n","// Данный объект нужен, чтобы каждый модуль не следил в отдельности за Dom\r\n// Он помогает уменьшить нагрузку\r\nexport default {\r\n  observer: \"\",\r\n  callbacks: [],\r\n  config: {\r\n    attributes: true,\r\n    childList: true,\r\n    subtree: true\r\n  },\r\n  init(callbacks) {\r\n    this.callbacks = callbacks;\r\n    if (!document.querySelectorAll(\"*\")) return;\r\n    this.setObserver();\r\n    document.querySelectorAll(\"*\").forEach(e => {\r\n      this.observer.observe(e, this.config);\r\n    });\r\n  },\r\n  setObserver() {\r\n    this.observer = new MutationObserver((mutationsList, observer) => {\r\n      this.callbacks.forEach(callback => callback(mutationsList, observer));\r\n    });\r\n  }\r\n}","export function checkStorageValue (value) {\n  return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n}","export function setLocalStorage(key, value, access) {\n  if (access) { localStorage.setItem(key, value); }\n  return value;\n}","export function getBody () {\n  var doc = document,\n      body = doc.body;\n\n  if (!body) {\n    body = doc.createElement('body');\n    body.fake = true;\n  }\n\n  return body;\n}","export var docElement = document.documentElement;","import { docElement } from './docElement';\n\nexport function setFakeBody (body) {\n  var docOverflow = '';\n  if (body.fake) {\n    docOverflow = docElement.style.overflow;\n    //avoid crashing IE8, if background image is used\n    body.style.background = '';\n    //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n    body.style.overflow = docElement.style.overflow = 'hidden';\n    docElement.appendChild(body);\n  }\n\n  return docOverflow;\n}","import './childNode.remove';\nimport { docElement } from './docElement';\n\nexport function resetFakeBody (body, docOverflow) {\n  if (body.fake) {\n    body.remove();\n    docElement.style.overflow = docOverflow;\n    // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n    // eslint-disable-next-line\n    docElement.offsetHeight;\n  }\n}","// cross browsers addRule method\nexport function addCSSRule(sheet, selector, rules, index) {\n  'insertRule' in sheet ?\n    sheet.insertRule(selector + '{' + rules + '}', index) :\n    sheet.addRule(selector, rules, index);\n}","export function getCssRulesLength(sheet) {\n  var rule = ('insertRule' in sheet) ? sheet.cssRules : sheet.rules;\n  return rule.length;\n}","export function hasClass(el, str) {\n  return el.className.indexOf(str) >= 0;\n}","export function addClass(el, str) {\n  el.className += ' ' + str;\n}","export function removeClass(el, str) {\n  el.className = el.className.replace(str, '');\n}","export function hasAttr(el, attr) {\n  return el.hasAttribute(attr);\n}","export function isNodeList(el) {\n  // Only NodeList has the \"item()\" function\n  return typeof el.item !== \"undefined\"; \n}","import { isNodeList } from \"./isNodeList\";\n\nexport function setAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  if (Object.prototype.toString.call(attrs) !== '[object Object]') { return; }\n\n  for (var i = els.length; i--;) {\n    for(var key in attrs) {\n      els[i].setAttribute(key, attrs[key]);\n    }\n  }\n}","import { isNodeList } from \"./isNodeList\";\n\nexport function removeAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  attrs = (attrs instanceof Array) ? attrs : [attrs];\n\n  var attrLength = attrs.length;\n  for (var i = els.length; i--;) {\n    for (var j = attrLength; j--;) {\n      els[i].removeAttribute(attrs[j]);\n    }\n  }\n}","import { hasAttr } from './hasAttr';\nimport { setAttrs } from './setAttrs';\n\nexport function hideElement(el) {\n  if (!hasAttr(el, 'hidden')) {\n    setAttrs(el, {'hidden': ''});\n  }\n}","import { hasAttr } from './hasAttr';\nimport { removeAttrs } from './removeAttrs';\n\nexport function showElement(el) {\n  if (hasAttr(el, 'hidden')) {\n    removeAttrs(el, 'hidden');\n  }\n}","export function whichProperty(props){\n  var el = document.createElement('fakeelement'),\n      len = props.length;\n  for(var i = 0; i < props.length; i++){\n    var prop = props[i];\n    if( el.style[prop] !== undefined ){ return prop; }\n  }\n\n  return false; // explicit for ie9-\n}\n","// get transitionend, animationend based on transitionDuration\n// @propin: string\n// @propOut: string, first-letter uppercase\n// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\nexport function getEndProperty(propIn, propOut) {\n  var endProp = false;\n  if (/^Webkit/.test(propIn)) {\n    endProp = 'webkit' + propOut + 'End';\n  } else if (/^O/.test(propIn)) {\n    endProp = 'o' + propOut + 'End';\n  } else if (propIn) {\n    endProp = propOut.toLowerCase() + 'end';\n  }\n  return endProp;\n}","// Test via a getter in the options object to see if the passive property is accessed\nvar supportsPassive = false;\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function() {\n      supportsPassive = true;\n    }\n  });\n  window.addEventListener(\"test\", null, opts);\n} catch (e) {}\nexport var passiveOption = supportsPassive ? { passive: true } : false;","import { passiveOption } from './passiveOption';\n\nexport function addEvents(el, obj) {\n  for (var prop in obj) {\n    var option = (prop === 'touchstart' || prop === 'touchmove') ? passiveOption : false;\n    el.addEventListener(prop, obj[prop], option);\n  }\n}","import { passiveOption } from './passiveOption';\n\nexport function removeEvents(el, obj) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n    el.removeEventListener(prop, obj[prop], option);\n  }\n}","export function Events() {\n  return {\n    topics: {},\n    on: function (eventName, fn) {\n      this.topics[eventName] = this.topics[eventName] || [];\n      this.topics[eventName].push(fn);\n    },\n    off: function(eventName, fn) {\n      if (this.topics[eventName]) {\n        for (var i = 0; i < this.topics[eventName].length; i++) {\n          if (this.topics[eventName][i] === fn) {\n            this.topics[eventName].splice(i, 1);\n            break;\n          }\n        }\n      }\n    },\n    emit: function (eventName, data) {\n      if (this.topics[eventName]) {\n        this.topics[eventName].forEach(function(fn) {\n          fn(data);\n        });\n      }\n    }\n  };\n};","// Format: IIFE\n// Version: 2.2.2\n\n// helper functions\nimport './helpers/keys';\nimport './helpers/childNode.remove';\nimport { extend } from './helpers/extend';\nimport { checkStorageValue } from './helpers/checkStorageValue';\nimport { setLocalStorage } from './helpers/setLocalStorage';\nimport { getSlideId } from './helpers/getSlideId';\nimport { calc } from './helpers/calc';\nimport { subpixelLayout } from './helpers/subpixelLayout';\nimport { mediaquerySupport } from './helpers/mediaquerySupport';\nimport { createStyleSheet } from './helpers/createStyleSheet';\nimport { addCSSRule } from './helpers/addCSSRule';\nimport { getCssRulesLength } from './helpers/getCssRulesLength';\nimport { toDegree } from './helpers/toDegree';\nimport { getTouchDirection } from './helpers/getTouchDirection';\nimport { hasClass } from './helpers/hasClass';\nimport { addClass } from './helpers/addClass';\nimport { removeClass } from './helpers/removeClass';\nimport { hasAttr } from './helpers/hasAttr';\nimport { getAttr } from './helpers/getAttr';\nimport { setAttrs } from './helpers/setAttrs';\nimport { removeAttrs } from './helpers/removeAttrs';\nimport { hideElement } from './helpers/hideElement';\nimport { showElement } from './helpers/showElement';\nimport { imageLoaded } from './helpers/imageLoaded';\nimport { whichProperty } from './helpers/whichProperty';\nimport { getEndProperty } from './helpers/getEndProperty';\nimport { addEvents } from './helpers/addEvents';\nimport { removeEvents } from './helpers/removeEvents';\nimport { Events } from './helpers/events';\nimport { jsTransform } from './helpers/jsTransform';\n\n// check browser version and local storage\n// if browser upgraded, \n// 1. delete browser ralated data from local storage and \n// 2. recheck these options and save them to local storage\nvar browserInfo = navigator.userAgent,\n    localStorageAccess = true,\n    tnsStorage = localStorage;\n\ntry {\n  if (!tnsStorage['tnsApp']) {\n    tnsStorage['tnsApp'] = browserInfo;\n  } else if (tnsStorage['tnsApp'] !== browserInfo) {\n    tnsStorage['tnsApp'] = browserInfo;\n\n    // tC => calc\n    // tSP => subpixel\n    // tMQ => mediaquery\n    // tTf => transform\n    // tTDu => transitionDuration\n    // tTDe => transitionDelay\n    // tADu => animationDuration\n    // tADe => animationDelay\n    // tTE => transitionEnd\n    // tAE => animationEnd\n\n    ['tC', 'tSP', 'tMQ', 'tTf', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function (item) {\n      tnsStorage.removeItem(item);\n    })\n  }\n} catch(e) {\n  localStorageAccess = false;\n}\n\n// get browser related data from local storage if they exist\n// otherwise, run the functions again and save these data to local storage\n// checkStorageValue() convert non-string value to its original value: 'true' > true\nvar doc = document,\n    win = window,\n    KEYS = {\n      ENTER: 13,\n      SPACE: 32,\n      PAGEUP: 33,\n      PAGEDOWN: 34,\n      END: 35,\n      HOME: 36,\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      DOWN: 40\n    },\n    CALC = checkStorageValue(tnsStorage['tC']) || setLocalStorage('tC', calc(), localStorageAccess),\n    SUBPIXEL = checkStorageValue(tnsStorage['tSP']) || setLocalStorage('tSP', subpixelLayout(), localStorageAccess),\n    CSSMQ = checkStorageValue(tnsStorage['tMQ']) || setLocalStorage('tMQ', mediaquerySupport(), localStorageAccess),\n    TRANSFORM = checkStorageValue(tnsStorage['tTf']) || setLocalStorage('tTf', whichProperty([\n      'transform', \n      'WebkitTransform', \n      'MozTransform', \n      'msTransform', \n      'OTransform'\n    ]), localStorageAccess),\n    TRANSITIONDURATION = checkStorageValue(tnsStorage['tTDu']) || setLocalStorage('tTDu', whichProperty([\n      'transitionDuration', \n      'WebkitTransitionDuration', \n      'MozTransitionDuration', \n      'OTransitionDuration'\n    ]), localStorageAccess),\n    TRANSITIONDELAY = checkStorageValue(tnsStorage['tTDe']) || setLocalStorage('tTDe', whichProperty([\n      'transitionDelay', \n      'WebkitTransitionDelay', \n      'MozTransitionDelay', \n      'OTransitionDelay'\n    ]), localStorageAccess),\n    ANIMATIONDURATION = checkStorageValue(tnsStorage['tADu']) || setLocalStorage('tADu', whichProperty([\n      'animationDuration', \n      'WebkitAnimationDuration', \n      'MozAnimationDuration', \n      'OAnimationDuration'\n    ]), localStorageAccess),\n    ANIMATIONDELAY = checkStorageValue(tnsStorage['tADe']) || setLocalStorage('tADe', whichProperty([\n      'animationDelay', \n      'WebkitAnimationDelay', \n      'MozAnimationDelay', \n      'OAnimationDelay'\n    ]), localStorageAccess),\n    TRANSITIONEND = checkStorageValue(tnsStorage['tTE']) || setLocalStorage('tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n    ANIMATIONEND = checkStorageValue(tnsStorage['tAE']) || setLocalStorage('tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess);\n\n// reset SUBPIXEL for IE8\nif (!CSSMQ) { SUBPIXEL = false; }\n\nexport var tns = function(options) {\n  options = extend({\n    container: doc.querySelector('.slider'),\n    mode: 'carousel',\n    axis: 'horizontal',\n    items: 1,\n    gutter: 0,\n    edgePadding: 0,\n    fixedWidth: false,\n    slideBy: 1,\n    controls: true,\n    controlsText: ['prev', 'next'],\n    controlsContainer: false,\n    nav: true,\n    navContainer: false,\n    // navAnimationIn: false,\n    // navAnimationOut: false,\n    arrowKeys: false,\n    speed: 300,\n    autoplay: false,\n    autoplayTimeout: 5000,\n    autoplayDirection: 'forward',\n    autoplayText: ['start', 'stop'],\n    autoplayHoverPause: false,\n    autoplayButton: false,\n    autoplayButtonOutput: true,\n    autoplayResetOnVisibility: true,\n    // animateIn: 'tns-fadeIn',\n    // animateOut: 'tns-fadeOut',\n    // animateNormal: 'tns-normal',\n    // animateDelay: false,\n    loop: true,\n    rewind: false,\n    autoHeight: false,\n    responsive: false,\n    lazyload: false,\n    touch: true,\n    mouseDrag: false,\n    nested: false,\n    onInit: false\n  }, options || {});\n  \n  // get element nodes from selectors\n  ['container', 'controlsContainer', 'navContainer', 'autoplayButton'].forEach(function(item) {\n    if (typeof options[item] === 'string') { options[item] = doc.querySelector(options[item]); }\n  });\n\n  // make sure slide container exists\n  if (!options.container || !options.container.nodeName || options.container.children.length < 2) { return; }\n\n  // update responsive\n  // from: { \n  //    300: 2, \n  //    800: {\n  //      loop: false\n  //    }\n  // }\n  // to: {\n  //    300: { \n  //      items: 2 \n  //    }, \n  //    800: {\n  //      loop: false\n  //    }\n  // }\n  if (options.responsive) {\n    var resTem = {}, res = options.responsive;\n    for(var key in res) {\n      var val = res[key];\n      resTem[key] = typeof val === 'number' ? {items: val} :  val;\n    }\n\n    options.responsive = resTem;\n    resTem = null;\n  }\n\n  // === define and set variables ===\n  var carousel = options.mode === 'carousel' ? true : false;\n\n  if (!carousel) {\n    options.axis = 'horizontal';\n    options.rewind = false;\n    options.loop = true;\n    options.edgePadding = false;\n\n    var animateIn = 'tns-fadeIn',\n        animateOut = 'tns-fadeOut',\n        animateDelay = false,\n        animateNormal = options.animateNormal || 'tns-normal';\n\n    if (TRANSITIONEND && ANIMATIONEND) {\n      animateIn = options.animateIn || animateIn;\n      animateOut = options.animateOut || animateOut;\n      animateDelay = options.animateDelay || animateDelay;\n    }\n  }\n\n  var horizontal = options.axis === 'horizontal' ? true : false,\n      outerWrapper = doc.createElement('div'),\n      innerWrapper = doc.createElement('div'),\n      container = options.container,\n      containerParent = container.parentNode,\n      slideItems = container.children,\n      slideCount = slideItems.length,\n      vpOuter = containerParent.clientWidth,\n      vpInner,\n      responsive = options.responsive,\n      responsiveItems = [],\n      breakpoints = false,\n      breakpointZone = 0,\n      breakpointZoneAdjust = 0;\n\n  if (responsive) {\n    breakpoints = Object.keys(responsive)\n      .map(function (x) { return parseInt(x); })\n      .sort(function (a, b) { return a - b; });\n    if (breakpoints.indexOf(0) < 0) { breakpointZoneAdjust = 1; }\n\n    breakpoints.forEach(function(bp) {\n      responsiveItems = responsiveItems.concat(Object.keys(responsive[bp]));\n    });\n    var arr = [];\n    responsiveItems.forEach(function (item) { if (arr.indexOf(item) < 0) { arr.push(item); } });\n    responsiveItems = arr;\n    // alert(responsiveItems);\n\n    breakpointZone = getBreakpointZone();\n  } \n\n  var items = getOption('items'),\n      slideBy = getOption('slideBy') === 'page' ? items : getOption('slideBy'),\n      nested = options.nested,\n      gutter = getOption('gutter'),\n      edgePadding = getOption('edgePadding'),\n      fixedWidth = getOption('fixedWidth'),\n      arrowKeys = getOption('arrowKeys'),\n      speed = getOption('speed'),\n      rewind = options.rewind,\n      loop = rewind ? false : options.loop,\n      autoHeight = getOption('autoHeight'),\n      sheet = createStyleSheet(),\n      lazyload = options.lazyload,\n      slideOffsetTops, // collection of slide offset tops\n      slideItemsOut = [],\n      cloneCount = loop ? slideCount * 2 : checkOption('edgePadding') ? 1 : 0,\n      slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n      hasRightDeadZone = fixedWidth && !loop && !edgePadding ? true : false,\n      checkIndexBeforeTransform = !carousel || !loop ? true : false,\n      // transform\n      transformAttr = horizontal ? 'left' : 'top',\n      transformPrefix = '',\n      transformPostfix = '',\n      // index\n      index = !carousel ? 0 : cloneCount,\n      indexCached = index,\n      indexAdjust = !loop && checkOption('edgePadding') ? 1 : 0,\n      indexMin = indexAdjust,\n      indexMax = slideCountNew - items - indexAdjust,\n      // resize\n      resizeTimer,\n      touchedOrDraged,\n      running = false,\n      onInit = options.onInit,\n      events = new Events(),\n      // id, class\n      containerIdCached = container.id,\n      classContainer = ' tns-slider tns-' + options.mode,\n      slideId = container.id || getSlideId(),\n      disable = getOption('disable'),\n      freeze = disable ? true : slideCount <= items,\n      importantStr = nested === 'inner' ? ' !important' : '',\n      controlsEvents = {\n        'click': onControlsClick,\n        'keydown': onControlsKeydown\n      },\n      navEvents = {\n        'click': onNavClick,\n        'keydown': onNavKeydown\n      },\n      hoverEvents = {\n        'mouseover': mouseoverPause,\n        'mouseout': mouseoutRestart\n      },\n      visibilityEvent = {'visibilitychange': onVisibilityChange},\n      docmentKeydownEvent = {'keydown': onDocumentKeydown},\n      touchEvents = {\n        'touchstart': onTouchOrMouseStart,\n        'touchmove': onTouchOrMouseMove,\n        'touchend': onTouchOrMouseEnd,\n        'touchcancel': onTouchOrMouseEnd\n      }, dragEvents = {\n        'mousedown': onTouchOrMouseStart,\n        'mousemove': onTouchOrMouseMove,\n        'mouseup': onTouchOrMouseEnd,\n        'mouseleave': onTouchOrMouseEnd\n      },\n      hasControls = checkOption('controls'),\n      hasNav = checkOption('nav'),\n      hasAutoplay = checkOption('autoplay'),\n      hasTouch = checkOption('touch'),\n      hasMouseDrag = checkOption('mouseDrag'),\n      slideActiveClass = 'tns-slide-active';\n\n  // controls\n  if (hasControls) {\n    var controls = getOption('controls'),\n        controlsText = getOption('controlsText'),\n        controlsContainer = options.controlsContainer,\n        prevButton,\n        nextButton,\n        prevIsButton,\n        nextIsButton;\n  }\n\n  // nav\n  if (hasNav) {\n    var nav = getOption('nav'),\n        navContainer = options.navContainer,\n        // navAnimationIn = options.navAnimationIn,\n        // navAnimationOut = options.navAnimationOut,\n        navItems,\n        visibleNavIndexes = [],\n        visibleNavIndexesCached = visibleNavIndexes,\n        navClicked = -1,\n        navCurrentIndex = 0,\n        navCurrentIndexCached = 0,\n        navActiveClass = 'tns-nav-active';\n  }\n\n  // autoplay\n  if (hasAutoplay) {\n    var autoplay = getOption('autoplay'),\n        autoplayTimeout = getOption('autoplayTimeout'),\n        autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n        autoplayText = getOption('autoplayText'),\n        autoplayHoverPause = getOption('autoplayHoverPause'),\n        autoplayTimer,\n        autoplayButton = options.autoplayButton,\n        animating = false,\n        autoplayHoverStopped = false,\n        autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n        autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n        autoplayResetVisibilityState = false;\n  }\n\n  // touch\n  if (hasTouch) {\n    var touch = getOption('touch'),\n        startX = null,\n        startY = null,\n        translateInit,\n        disX,\n        disY;\n  }\n\n  // mouse drag\n  if (hasMouseDrag) {\n    var mouseDrag = getOption('mouseDrag'),\n        isDragEvent = false;\n  }\n\n  // disable slider when slidecount <= items\n  if (freeze) {\n    controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n  }\n\n  if (TRANSFORM) {\n    transformAttr = TRANSFORM;\n    transformPrefix = 'translate';\n    transformPrefix += horizontal ? 'X(' : 'Y(';\n    transformPostfix = ')';\n  }\n\n  // === COMMON FUNCTIONS === //\n  function checkOption (item) {\n    var result = options[item];\n    if (!result && breakpoints && responsiveItems.indexOf(item) >= 0) {\n      breakpoints.forEach(function (bp) {\n        if (responsive[bp][item]) { result = true; }\n      });\n    }\n    return result;\n  }\n\n  function getOption (item, view) {\n    view = view ? view : vpOuter;\n    var result;\n\n    if (item === 'items' && getOption('fixedWidth')) {\n      result = Math.floor(view / (getOption('fixedWidth') + getOption('gutter')));\n    } else if (item === 'slideBy' && !carousel) {\n      result = 'page';\n    } else if (item === 'edgePadding' && !carousel) {\n      result = false;\n    } else if (item === 'autoHeight' && (!carousel || nested === 'outer')) {\n      result = true;\n    } else {\n      result = options[item];\n\n      if (breakpoints && responsiveItems.indexOf(item) >= 0) {\n        for (var i = 0, len = breakpoints.length; i < len; i++) {\n          var bp = breakpoints[i];\n          if (view >= bp) {\n            if (item in responsive[bp]) { result = responsive[bp][item]; }\n          } else { break; }\n        }\n      }\n\n    }\n\n    if (item === 'items') { result = Math.max(1, Math.min(slideCount, result)); }\n    if (item === 'slideBy' && result === 'page') { result = getOption('items'); }\n\n    return result;\n  }\n\n  function getSlideMarginLeft (i) {\n    var str = CALC ? \n      CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' : \n      i * 100 / slideCountNew + '%';\n    return str;\n  }\n\n  function getInnerWrapperStyles (edgePaddingTem, gutterTem, fixedWidthTem) {\n    var str = '';\n    if (edgePaddingTem) {\n      var gap = edgePaddingTem;\n      if (gutterTem) { gap += gutterTem; }\n      if (fixedWidthTem) {\n        str = 'margin: 0px ' + (vpOuter%(fixedWidthTem + gutterTem) + gutterTem) / 2 + 'px';\n      } else {\n        str = horizontal ?\n          'margin: 0 ' + edgePaddingTem + 'px 0 ' + gap + 'px;' :\n          'padding: ' + gap + 'px 0 ' + edgePaddingTem + 'px 0;';\n      }\n    } else if (gutterTem && !fixedWidthTem) {\n      var dir = horizontal ? 'right' : 'bottom';\n      str = 'margin-' + dir + ': -' + gutterTem + 'px;'\n    }\n\n    return str;\n  }\n\n  function getContainerWidth (fixedWidthTem, gutterTem, itemsTem) {\n    itemsTem = Math.min(slideCount, itemsTem);\n    var str;\n\n    if (fixedWidthTem) {\n      str = (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n    } else {\n      str = CALC ? \n        CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' : \n        slideCountNew * 100 / itemsTem + '%';\n    }\n\n    return str;\n  }\n\n  function getSlideWidthStyle (fixedWidthTem, gutterTem, itemsTem) {\n    itemsTem = Math.min(slideCount, itemsTem);\n    var str = '';\n\n    if (horizontal) {\n      str = 'width:';\n      if (fixedWidthTem) {\n        str += (fixedWidthTem + gutterTem) + 'px';\n      } else {\n        var dividend = carousel ? slideCountNew : Math.min(slideCount, itemsTem);\n        str += CALC ? \n          CALC + '(100% / ' + dividend + ')' : \n          100 / dividend + '%';\n      }\n      str += importantStr + ';';\n    }\n\n    return str;\n  }\n\n  function getSlideGutterStyle (gutterTem) {\n    var str = '';\n\n    // gutter maybe interger || 0\n    // so can't use 'if (gutter)'\n    if (gutterTem !== false) {\n      var prop = horizontal ? 'padding-' : 'margin-',\n          dir = horizontal ? 'right' : 'bottom';\n      str = prop +  dir + ': ' + gutterTem + 'px;';\n    }\n\n    return str;\n  }\n\n  (function sliderInit () {\n    // First thing first, wrap container with 'outerWrapper > innerWrapper',\n    // to get the correct view width\n    outerWrapper.appendChild(innerWrapper);\n    containerParent.insertBefore(outerWrapper, container);\n    innerWrapper.appendChild(container);\n    vpInner = innerWrapper.clientWidth;\n\n    var classOuter = 'tns-outer',\n        classInner = 'tns-inner';\n\n    if (carousel) {\n      if (horizontal) {\n        if (checkOption('edgePadding') || checkOption('gutter') && !options.fixedWidth) {\n          classOuter += ' tns-ovh';\n        } else {\n          classInner += ' tns-ovh';\n        }\n      } else {\n        classInner += ' tns-ovh';\n      }\n    } else if (checkOption('gutter')) {\n      classOuter += ' tns-ovh';\n    }\n\n    outerWrapper.className = classOuter;\n    innerWrapper.className = classInner;\n    innerWrapper.id = slideId + '-iw';\n    if (autoHeight) {\n      innerWrapper.className += ' tns-ah';\n      innerWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n    }\n\n    // set container properties\n    if (container.id === '') { container.id = slideId; }\n    classContainer += SUBPIXEL ? ' tns-subpixel' : ' tns-no-subpixel';\n    classContainer += CALC ? ' tns-calc' : ' tns-no-calc';\n    if (carousel) { classContainer += ' tns-' + options.axis; }\n    container.className += classContainer;\n    // add event\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      addEvents(container, eve);\n    }\n\n    // delete datas after init\n    classOuter = classInner = null;\n\n    // add id, class, aria attributes \n    // before clone slides\n    for (var x = 0; x < slideCount; x++) {\n      var item = slideItems[x];\n      if (!item.id) { item.id = slideId + '-item' + x; }\n      addClass(item, 'tns-item');\n      if (!carousel && animateNormal) { addClass(item, animateNormal); }\n      setAttrs(item, {\n        'aria-hidden': 'true',\n        'tabindex': '-1'\n      });\n    }\n\n    // clone slides\n    if (loop || edgePadding) {\n      var fragmentBefore = doc.createDocumentFragment(), \n          fragmentAfter = doc.createDocumentFragment();\n\n      for (var j = cloneCount; j--;) {\n        var num = j%slideCount,\n            cloneFirst = slideItems[num].cloneNode(true);\n        removeAttrs(cloneFirst, 'id');\n        fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n        if (carousel) {\n          var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n          removeAttrs(cloneLast, 'id');\n          fragmentBefore.appendChild(cloneLast);\n        }\n      }\n\n      container.insertBefore(fragmentBefore, container.firstChild);\n      container.appendChild(fragmentAfter);\n      slideItems = container.children;\n    }\n\n    // activate visible slides\n    // add aria attrs\n    // set animation classes and left value for gallery slider\n    for (var i = index; i < index + items; i++) {\n      var item = slideItems[i];\n      setAttrs(item, {'aria-hidden': 'false'});\n      removeAttrs(item, ['tabindex']);\n      addClass(item, slideActiveClass);\n\n      if (!carousel) { \n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    if (carousel && horizontal) {\n      // set font-size rules\n      // for modern browsers\n      // run once\n      if (SUBPIXEL) {\n        var cssFontSize = win.getComputedStyle(slideItems[0]).fontSize;\n        // em, rem to px (for IE8-)\n        if (cssFontSize.indexOf('em') > 0) {\n          cssFontSize = parseFloat(cssFontSize) * 16 + 'px';\n        }\n\n        addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + cssFontSize + ';', getCssRulesLength(sheet));\n\n      // slide left margin\n      // for IE8 & webkit browsers (no subpixel)\n      } else {\n        [].forEach.call(slideItems, function (slide, i) {\n          slide.style.marginLeft = getSlideMarginLeft(i);\n        });\n      }\n    }\n\n    if (CSSMQ) {\n      // inner wrapper styles\n      var str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth);\n      addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n      // container styles\n      if (carousel && horizontal) {\n        str = 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items);\n        addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n      }\n\n      // slide styles\n      if (horizontal || options.gutter) {\n        str = getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) + \n              getSlideGutterStyle(options.gutter);\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n      }\n\n    // non CSS mediaqueries: IE8\n    // ## update inner wrapper, container, slides if needed\n    // set inline styles for inner wrapper & container\n    // insert stylesheet (one line) for slides only (since slides are many)\n    } else {\n      // inner wrapper styles\n      innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth);\n\n      // container styles\n      if (carousel && horizontal) {\n        container.style.width = getContainerWidth(fixedWidth, gutter, items);\n      }\n\n      // slide styles\n      if (horizontal || gutter) {\n        var str = getSlideWidthStyle(fixedWidth, gutter, items) +\n                  getSlideGutterStyle(gutter);\n        // append to the last line\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n      }\n    }\n\n    if (!horizontal && !disable) {\n      getSlideOffsetTops();\n      updateContentWrapperHeight();\n    }\n\n    // media queries\n    if (responsive && CSSMQ) {\n      breakpoints.forEach(function(bp) {\n        var opts = responsive[bp],\n            str = '',\n            innerWrapperStr = '',\n            containerStr = '',\n            slideStr = '',\n            itemsBP = getOption('items', bp),\n            fixedWidthBP = getOption('fixedWidth', bp),\n            edgePaddingBP = getOption('edgePadding', bp),\n            gutterBP = getOption('gutter', bp);\n\n        // inner wrapper string\n        if ('edgePadding' in opts || 'gutter' in opts) {\n          innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP) + '}';\n        }\n\n        // container string\n        if (carousel && horizontal && ('fixedWidth' in opts || 'gutter' in opts || 'items' in opts)) {\n          containerStr = '#' + slideId + '{' + 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + '}';\n        }\n\n        // slide string\n        if ('fixedWidth' in opts || checkOption('fixedWidth') && 'gutter' in opts || !carousel && 'items' in opts) {\n          slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n        }\n        if ('gutter' in opts) {\n          slideStr += getSlideGutterStyle(gutterBP);\n        }\n        if (slideStr.length > 0) { slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}'; }\n\n        str = innerWrapperStr + containerStr + slideStr;\n\n        if (str.length > 0) {\n          sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n        }\n      });\n    }\n\n\n    // set container transform property\n    if (carousel && !disable) {\n      doContainerTransform();\n    }\n\n\n    // == msInit ==\n    // for IE10\n    if (navigator.msMaxTouchPoints) {\n      addClass(outerWrapper, 'ms-touch');\n      addEvents(outerWrapper, {'scroll': ie10Scroll});\n      setSnapInterval();\n    }\n\n \n    // == navInit ==\n    if (hasNav) {\n      var initIndex = !carousel ? 0 : cloneCount;\n      // customized nav\n      // will not hide the navs in case they're thumbnails\n      if (navContainer) {\n        setAttrs(navContainer, {'aria-label': 'Carousel Pagination'});\n        navItems = navContainer.children;\n        [].forEach.call(navItems, function (item, index) {\n          setAttrs(item, {\n            'data-nav': index,\n            'tabindex': '-1',\n            'aria-selected': 'false',\n            'aria-controls': slideItems[initIndex + index].id,\n          });\n          // if (navAnimationOut) {\n          //   addClass(item, navAnimationOut);\n          // }\n        });\n\n      // generated nav \n      } else {\n        var navHtml = '';\n            // classStr = navAnimationOut ? 'class=\"' + navAnimationOut + '\"' : '';\n        for (var i = 0; i < slideCount; i++) {\n          // hide nav items by default\n          // navHtml += '<button ' + classStr + ' data-nav=\"' + i +'\" tabindex=\"-1\" aria-selected=\"false\" aria-controls=\"' + slideId + '-item' + i +'\" hidden type=\"button\"></button>';\n          navHtml += '<button data-nav=\"' + i +'\" tabindex=\"-1\" aria-selected=\"false\" aria-controls=\"' + slideItems[initIndex + i].id +'\" hidden type=\"button\"></button>';\n        }\n        navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n        outerWrapper.insertAdjacentHTML('afterbegin', navHtml);\n\n        navContainer = outerWrapper.querySelector('.tns-nav');\n        navItems = navContainer.children;\n\n        updateNavVisibility();\n      }\n\n      // add transition\n      if (TRANSITIONDURATION) {\n        var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n            str = 'transition: all ' + speed / 1000 + 's';\n\n        if (prefix) {\n          str = '-' + prefix + '-' + str;\n        }\n\n        addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n      }\n\n      setAttrs(navItems[0], {'tabindex': '0', 'aria-selected': 'true'});\n      addClass(navItems[0], navActiveClass);\n      // if (navAnimationOut) {\n      //   removeClass(navItems[0], navAnimationOut);\n      // }\n      // if (navAnimationIn) {\n      //   addClass(navItems[0], navAnimationIn);\n      // }\n\n      // add events\n      addEvents(navContainer, navEvents);\n\n      if (!nav) { hideElement(navContainer); }\n    }\n\n\n    // == autoplayInit ==\n    if (hasAutoplay) {\n      var txt = autoplay ? 'stop' : 'start';\n      if (autoplayButton) {\n        setAttrs(autoplayButton, {'data-action': txt});\n      } else if (options.autoplayButtonOutput) {\n        innerWrapper.insertAdjacentHTML('beforebegin', '<button data-action=\"' + txt + '\" type=\"button\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n        autoplayButton = outerWrapper.querySelector('[data-action]');\n      }\n\n      // add event\n      if (autoplayButton) {\n        addEvents(autoplayButton, {'click': toggleAnimation});\n      }\n\n      if (!autoplay) {\n        if (autoplayButton) {\n          hideElement(autoplayButton);\n        }\n      } else {\n        startAction();\n        if (autoplayHoverPause) { addEvents(container, hoverEvents); }\n        if (autoplayResetOnVisibility) { addEvents(container, visibilityEvent); }\n      }\n    }\n\n\n    // == controlsInit ==\n    if (hasControls) {\n      if (controlsContainer) {\n        prevButton = controlsContainer.children[0];\n        nextButton = controlsContainer.children[1];\n        setAttrs(controlsContainer, {\n          'aria-label': 'Carousel Navigation',\n          'tabindex': '0'\n        });\n        setAttrs(prevButton, {'data-controls' : 'prev'});\n        setAttrs(nextButton, {'data-controls' : 'next'});\n        setAttrs(controlsContainer.children, {\n          'aria-controls': slideId,\n          'tabindex': '-1',\n        });\n      } else {\n        outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId +'\" type=\"button\">' + controlsText[0] + '</button><button data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId +'\" type=\"button\">' + controlsText[1] + '</button></div>');\n\n        controlsContainer = outerWrapper.querySelector('.tns-controls');\n        prevButton = controlsContainer.children[0];\n        nextButton = controlsContainer.children[1];\n      }\n\n      prevIsButton = isButton(prevButton);\n      nextIsButton = isButton(nextButton);\n\n      if (!loop) { disEnableElement(prevIsButton, prevButton, true); }\n\n      // add events\n      addEvents(controlsContainer, controlsEvents);\n\n      if (!controls) { hideElement(controlsContainer); }\n    }\n\n\n    if (touch) { addEvents(container, touchEvents); }\n    if (mouseDrag) { addEvents(container, dragEvents); }\n    if (arrowKeys) { addEvents(doc, docmentKeydownEvent); }\n\n\n    if (nested === 'inner') {\n      events.on('outerResized', function () {\n        resizeTasks();\n        events.emit('innerLoaded', info());\n      });\n    } else {\n      addEvents(win, {'resize': onResize});\n      if (nested === 'outer') {\n        events.on('innerLoaded', runAutoHeight);\n      }\n    }\n\n    lazyLoad();\n    runAutoHeight();\n    checkFixedWidthSlideCount();\n\n    if (typeof onInit === 'function') { onInit(info()); }\n    if (nested === 'inner') { events.emit('innerLoaded', info()); }\n\n    if (disable) { disableSlider(true); }\n  })();\n\n\n\n\n\n// === ON RESIZE ===\n  function onResize (e) {\n    e = e || win.event;\n\n    clearTimeout(resizeTimer);\n    resizeTimer = setTimeout(function () {\n      if (vpOuter !== outerWrapper.clientWidth) {\n        resizeTasks();\n        if (nested === 'outer') { \n          events.emit('outerResized', info(e)); \n        }\n      }\n    }, 100); // update after stop resizing for 100 ms\n  }\n\n  function resizeTasks () {\n    var breakpointZoneTem = breakpointZone,\n        indexTem = index, \n        itemsTem = items,\n        freezeTem = freeze;\n\n    vpOuter = outerWrapper.clientWidth;\n    vpInner = innerWrapper.clientWidth;\n    if (breakpoints) { breakpointZone = getBreakpointZone(); }\n\n\n    // things do when breakpoint zone change\n    if (breakpointZoneTem !== breakpointZone || fixedWidth) {\n      var slideByTem = slideBy,\n          arrowKeysTem = arrowKeys,\n          autoHeightTem = autoHeight,\n          fixedWidthTem = fixedWidth,\n          edgePaddingTem = edgePadding,\n          gutterTem = gutter,\n          disableTem = disable;\n\n      // get options for current breakpoint zone\n      var opts = breakpointZone > 0 ? responsive[breakpoints[breakpointZone - 1]] : options;\n\n      // update variables\n      items = getOption('items');\n      slideBy = getOption('slideBy');\n      disable = getOption('disable');\n      freeze = disable ? true : slideCount <= items;\n\n      if (items !== itemsTem) {\n        indexMax = slideCountNew - items - indexAdjust;\n        // check index before transform in case\n        // slider reach the right edge then items become bigger\n        checkIndex();\n      }\n\n      if (disable !== disableTem) {\n        disableSlider(disable);\n      }\n      \n      if (freeze !== freezeTem && freeze) {\n        // reset index to initial status\n        index = !carousel ? 0 : cloneCount;\n      }\n      \n      if (breakpointZoneTem !== breakpointZone) {\n        speed = opts.speed || getOption('speed');\n        edgePadding = opts.edgePadding || getOption('edgePadding');\n        gutter = opts.gutter || getOption('gutter');\n\n        fixedWidth = opts.fixedWidth || getOption('fixedWidth');\n        if (!disable && fixedWidth !== fixedWidthTem) {\n          doContainerTransform();\n        }\n\n        autoHeight = getOption('autoHeight');\n        if (autoHeight !== autoHeightTem) {\n          if (!autoHeight) { innerWrapper.style.height = ''; }\n        }\n      }\n\n      arrowKeys = freeze ? false : opts.arrowKeys || getOption('arrowKeys');\n      if (arrowKeys !== arrowKeysTem) {\n        arrowKeys ?\n          addEvents(doc, docmentKeydownEvent) :\n          removeEvents(doc, docmentKeydownEvent);\n      }\n\n      if (hasControls) {\n        var controlsTem = controls,\n            controlsTextTem = controlsText;\n        controls = freeze ? false : opts.controls || getOption('controls');\n        controlsText = opts.controlsText || getOption('controlsText');\n\n        if (controls !== controlsTem) {\n          controls ?\n            showElement(controlsContainer) :\n            hideElement(controlsContainer); \n        }\n        if (controlsText !== controlsTextTem) {\n          prevButton.innerHTML = controlsText[0];\n          nextButton.innerHTML = controlsText[1];\n        }\n      }\n      if (hasNav) {\n        var navTem = nav;\n        nav = freeze ? false : opts.nav || getOption('nav');\n\n        if (nav !== navTem) {\n          if (nav) {\n            showElement(navContainer);\n            updateNavVisibility();\n          } else {\n            hideElement(navContainer);\n          }\n        }\n      }\n      if (hasTouch) {\n        var touchTem = touch;\n        touch = freeze ? false : opts.touch || getOption('touch');\n\n        if (touch !== touchTem && carousel) {\n          touch ?\n            addEvents(container, touchEvents) :\n            removeEvents(container, touchEvents);\n        }\n      }\n      if (hasMouseDrag) {\n        var mouseDragTem = mouseDrag;\n        mouseDrag = freeze ? false : opts.mouseDrag || getOption('mouseDrag');\n\n        if (mouseDrag !== mouseDragTem && carousel) {\n          mouseDrag ?\n            addEvents(container, dragEvents) :\n            removeEvents(container, dragEvents);\n        }\n      }\n      if (hasAutoplay) {\n        var autoplayTem = autoplay,\n            autoplayHoverPauseTem = autoplayHoverPause,\n            autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n            autoplayTextTem = autoplayText;\n\n        if (freeze) {\n          autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n        } else {\n          autoplay = opts.autoplay || getOption('autoplay');\n          \n          if (autoplay) {\n            autoplayHoverPause = opts.autoplayHoverPause || getOption('autoplayHoverPause');\n            autoplayResetOnVisibility = opts.autoplayResetOnVisibility || getOption('autoplayResetOnVisibility');\n          } else {\n            autoplayHoverPause = autoplayResetOnVisibility = false;\n          }\n        }\n        autoplayText = opts.autoplayText || getOption('autoplayText');\n        autoplayTimeout = opts.autoplayTimeout || getOption('autoplayTimeout');\n\n        if (autoplay !== autoplayTem) {\n          if (autoplay) {\n            if (autoplayButton) { showElement(autoplayButton); }\n            if (!animating) { startAction(); }\n          } else {\n            if (autoplayButton) { hideElement(autoplayButton); }\n            if (animating) { stopAction(); }\n          }\n        }\n        if (autoplayHoverPause !== autoplayHoverPauseTem) {\n          autoplayHoverPause ?\n            addEvents(container, hoverEvents) :\n            removeEvents(container, hoverEvents);\n        }\n        if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n          autoplayResetOnVisibility ?\n            addEvents(doc, visibilityEvent) :\n            removeEvents(doc, visibilityEvent);\n        }\n        if (autoplayButton && autoplayText !== autoplayTextTem) {\n          var i = autoplay ? 1 : 0,\n              html = autoplayButton.innerHTML,\n              len = html.length - autoplayTextTem[i].length;\n          if (html.substring(len) === autoplayTextTem[i]) {\n            autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n          }\n        }\n      }\n\n      // IE8\n      // ## update inner wrapper, container, slides if needed\n      // set inline styles for inner wrapper & container\n      // insert stylesheet (one line) for slides only (since slides are many)\n      if (!CSSMQ) {\n        // inner wrapper styles\n        if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n          innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth);\n        }\n\n        // container styles\n        if (carousel && horizontal && (fixedWidth !== fixedWidthTem || gutter !== gutterTem || items !== itemsTem)) {\n          container.style.width = getContainerWidth(fixedWidth, gutter, items);\n        }\n\n        // slide styles\n        // always need to get width property\n        var str = getSlideWidthStyle(fixedWidth, gutter, items);\n        if (gutter !== gutterTem) {\n          str += getSlideGutterStyle(gutter);\n        }\n\n        // remove the last line and\n        // add it again\n        if (str.length > 0) {\n          sheet.removeRule(getCssRulesLength(sheet) - 1);\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n\n        // will do transform later if index !== indexTem\n        // make sure doTransform will only run once\n        if (!fixedWidth && index === indexTem) { doTransform(0); }\n      }\n\n      if (index !== indexTem) { \n        events.emit('indexChanged', info());\n        doTransform(0); \n        indexCached = index;\n      }\n\n      if (items !== itemsTem) { \n        lazyLoad(); \n        updateSlideStatus();\n        updateControlsStatus();\n        updateNavVisibility();\n        updateNavStatus();\n\n        if (navigator.msMaxTouchPoints) { setSnapInterval(); }\n      }\n    }\n\n    // things always do regardless of breakpoint zone changing\n    if (!horizontal && !disable) {\n      getSlideOffsetTops();\n      updateContentWrapperHeight();\n      doContainerTransform();\n    }\n\n    checkFixedWidthSlideCount();\n    // auto height\n    runAutoHeight();\n  }\n\n\n\n\n\n  // === INITIALIZATION FUNCTIONS === //\n  function getBreakpointZone () {\n    breakpointZone = 0;\n    breakpoints.forEach(function(bp, i) {\n      if (vpOuter >= bp) { breakpointZone = i + breakpointZoneAdjust; }\n    });\n    return breakpointZone;\n  }\n\n  // (slideBy, indexMin, indexMax) => index\n  var checkIndex = (function () {\n    if (loop) {\n      return function () {\n        var leftEdge = indexMin, rightEdge = indexMax;\n        if (carousel) {\n          leftEdge += slideBy;\n          rightEdge -= slideBy;\n        }\n\n        var gt = gutter ? gutter : 0;\n        if (fixedWidth && vpOuter%(fixedWidth + gt) > gt) { rightEdge -= 1; }\n\n        if (index > rightEdge) {\n          while(index >= leftEdge + slideCount) { index -= slideCount; }\n        } else if(index < leftEdge) {\n          while(index <= rightEdge - slideCount) { index += slideCount; }\n        }\n      };\n    } else {\n      return function () { index = Math.max(indexMin, Math.min(indexMax, index)); };\n    }\n  })();\n\n  function checkFixedWidthSlideCount () {\n    if (fixedWidth && cloneCount) {\n      var str = 'tns-transparent';\n\n      if (freeze) {\n        if (!hasClass(slideItems[0], str)) {\n          // remove edge padding from inner wrapper\n          if (edgePadding) { innerWrapper.style.margin = '0'; }\n          // add class tns-transparent to cloned slides\n          for (var i = cloneCount; i--;) {\n            addClass(slideItems[i], str);\n            addClass(slideItems[slideCountNew - i - 1], str);\n          }\n        }\n      } else {\n        // restore edge padding for inner wrapper\n        if (edgePadding) {\n          if (vpOuter <= (fixedWidth + gutter)) {\n            if (innerWrapper.style.margin !== '0px') { innerWrapper.style.margin = '0'; }\n          } else {\n            innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth);\n          }\n        }\n\n        if (hasClass(slideItems[0], str)) {\n          // remove class tns-transparent to cloned slides\n          for (var i = cloneCount; i--;) {\n            removeClass(slideItems[i], str);\n            removeClass(slideItems[slideCountNew - i - 1], str);\n          }\n        }\n      }\n    }\n  }\n\n  function disableSlider (disable) {\n    var len = slideItems.length;\n    \n    if (disable) {\n      sheet.disabled = true;\n      container.className = container.className.replace(classContainer.substring(1), '');\n      container.style = '';\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) { hideElement(slideItems[j]); }\n          hideElement(slideItems[len - j - 1]);\n        }\n      }\n\n      // vertical slider\n      if (!horizontal || !carousel) { innerWrapper.style = ''; }\n\n      // gallery\n      if (!carousel) { \n        for (var i = index; i < index + slideCount; i++) {\n          var item = slideItems[i];\n          item.style = '';\n          removeClass(item, animateIn);\n          removeClass(item, animateNormal);\n        }\n      }\n    } else {\n      sheet.disabled = false;\n      container.className += classContainer;\n\n      // vertical slider: get offsetTops before container transform\n      if (!horizontal) { getSlideOffsetTops(); }\n\n      doContainerTransform();\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          if (carousel) { showElement(slideItems[j]); }\n          showElement(slideItems[len - j - 1]);\n        }\n      }\n\n      // gallery\n      if (!carousel) { \n        for (var i = index; i < index + slideCount; i++) {\n          var item = slideItems[i],\n              classN = i < index + items ? animateIn : animateNormal;\n          item.style.left = (i - index) * 100 / items + '%';\n          addClass(item, classN);\n        }\n      }\n    }\n  }\n\n  function mouseoverPause () {\n    if (animating) { \n      stopAction(); \n      autoplayHoverStopped = true;\n    }\n  }\n\n  function mouseoutRestart () {\n    if (!animating && autoplayHoverStopped) { \n      startAction(); \n      autoplayHoverStopped = false;\n    }\n  }\n\n  // lazyload\n  function lazyLoad () {\n    if (lazyload && !disable) {\n      var i = index, \n          len = index + items;\n          \n      if (edgePadding) {\n        i -=1;\n        len +=1;\n      }\n\n      for(; i < len; i++) {\n        [].forEach.call(slideItems[i].querySelectorAll('.tns-lazy-img'), function (img) {\n          // stop propagationl transitionend event to container\n          var eve = {};\n          eve[TRANSITIONEND] = function (e) { e.stopPropagation(); };\n          addEvents(img, eve);\n\n          if (!hasClass(img, 'loaded')) {\n            img.src = getAttr(img, 'data-src');\n            addClass(img, 'loaded');\n          }\n        });\n      }\n    }\n  }\n\n  // check if all visiblehttps://gizzaprogger.github.io/project_chicaga/images are loaded\n  // and update container height if it's done\n  function runAutoHeight () {\n    if (autoHeight && !disable) {\n      // get allhttps://gizzaprogger.github.io/project_chicaga/images inside visible slide items\n      varhttps://gizzaprogger.github.io/project_chicaga/images = [];\n\n      for (var i = index; i < index + items; i++) {\n        [].forEach.call(slideItems[i].querySelectorAll('img'), function (img) {\n         https://gizzaprogger.github.io/project_chicaga/images.push(img);\n        });\n      }\n\n      if (images.length === 0) {\n        updateInnerWrapperHeight(); \n      } else {\n        checkImagesLoaded(images);\n      }\n    }\n  }\n\n  function checkImagesLoaded (images) {\n   https://gizzaprogger.github.io/project_chicaga/images.forEach(function (img, index) {\n      if (imageLoaded(img)) {https://gizzaprogger.github.io/project_chicaga/images.splice(index, 1); }\n    });\n\n    if (images.length === 0) {\n      updateInnerWrapperHeight();\n    } else {\n      setTimeout(function () { \n        checkImagesLoaded(images); \n      }, 16);\n    }\n  } \n\n\n  // update inner wrapper height\n  // 1. get the max-height of the visible slides\n  // 2. set transitionDuration to speed\n  // 3. update inner wrapper height to max-height\n  // 4. set transitionDuration to 0s after transition done\n  function updateInnerWrapperHeight () {\n    var heights = [], maxHeight;\n    for (var i = index; i < index + items; i++) {\n      heights.push(slideItems[i].offsetHeight);\n    }\n    maxHeight = Math.max.apply(null, heights);\n\n    if (innerWrapper.style.height !== maxHeight) {\n      if (TRANSITIONDURATION) { setDurations(speed); }\n      innerWrapper.style.height = maxHeight + 'px';\n    }\n  }\n\n  // get the distance from the top edge of the first slide to each slide\n  // (init) => slideOffsetTops\n  function getSlideOffsetTops () {\n    slideOffsetTops = [0];\n    var topFirst = slideItems[0].getBoundingClientRect().top, attr;\n    for (var i = 1; i < slideCountNew; i++) {\n      attr = slideItems[i].getBoundingClientRect().top;\n      slideOffsetTops.push(attr - topFirst);\n    }\n  }\n\n  // set snapInterval (for IE10)\n  function setSnapInterval () {\n    outerWrapper.style.msScrollSnapPointsX = 'snapInterval(0%, ' + (100 / items) + '%)';\n  }\n\n  // update slide\n  function updateSlideStatus () {\n    for (var i = slideCountNew; i--;) {\n      var item = slideItems[i];\n      // visible slides\n      if (i >= index && i < index + items) {\n        if (hasAttr(item, 'tabindex')) {\n          setAttrs(item, {'aria-hidden': 'false'});\n          removeAttrs(item, ['tabindex']);\n          addClass(item, slideActiveClass);\n        }\n      // hidden slides\n      } else {\n        if (!hasAttr(item, 'tabindex')) {\n          setAttrs(item, {\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n          });\n        }\n        if (hasClass(item, slideActiveClass)) {\n          removeClass(item, slideActiveClass);\n        }\n      }\n    }\n  }\n\n  // set tabindex & aria-selected on Nav\n  function updateNavStatus () {\n    // get current nav\n    if (nav) {\n      navCurrentIndex = navClicked !== -1 ? navClicked : (index - indexAdjust)%slideCount;\n      navClicked = -1;\n\n      if (navCurrentIndex !== navCurrentIndexCached) {\n        var navPrev = navItems[navCurrentIndexCached],\n            navCurrent = navItems[navCurrentIndex];\n\n        setAttrs(navPrev, {\n          'tabindex': '-1',\n          'aria-selected': 'false'\n        });\n        setAttrs(navCurrent, {\n          'tabindex': '0',\n          'aria-selected': 'true'\n        });\n        removeClass(navPrev, navActiveClass);\n        addClass(navCurrent, navActiveClass);\n\n        // if (navAnimationOut) {\n        //   removeClass(navPrev, navAnimationIn);\n        //   addClass(navPrev, navAnimationOut);\n        // }\n        // if (navAnimationIn) {\n        //   removeClass(navCurrent, navAnimationOut);\n        //   addClass(navCurrent, navAnimationIn);\n        // }\n      }\n    }\n  }\n\n  function isButton (el) {\n    return el.nodeName.toLowerCase() === 'button';\n  }\n\n  function isAriaDisabled (el) {\n    return el.getAttribute('aria-disabled') === 'true';\n  }\n\n  function disEnableElement (isButton, el, val) {\n    if (isButton) {\n      el.disabled = val;\n    } else {\n      el.setAttribute('aria-disabled', val.toString());\n    }\n  }\n\n  // set 'disabled' to true on controls when reach the edges\n  function updateControlsStatus () {\n    if (!controls || loop) { return; }\n\n    var prevDisabled = (prevIsButton) ? prevButton.disabled : isAriaDisabled(prevButton),\n        nextDisabled = (nextIsButton) ? nextButton.disabled : isAriaDisabled(nextButton),\n        disablePrev = (index === indexMin) ? true : false,\n        disableNext = (!rewind && index === indexMax) ? true : false;\n\n    if (disablePrev && !prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, true);\n    }\n    if (!disablePrev && prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, false);\n    }\n    if (disableNext && !nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, true);\n    }\n    if (!disableNext && nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, false);\n    }\n  }\n\n  // set duration\n  function setDurations (duration, target) {\n    duration = !duration ? '' : duration / 1000 + 's';\n    target = target || container;\n    target.style[TRANSITIONDURATION] = duration;\n\n    if (!carousel) {\n      target.style[ANIMATIONDURATION] = duration;\n    }\n    if (!horizontal) {\n      innerWrapper.style[TRANSITIONDURATION] = duration;\n    }\n  }\n\n  function getContainerTransformValue () {\n    var val;\n    if (horizontal) {\n      if (fixedWidth) {\n        val = - (fixedWidth + gutter) * index + 'px';\n      } else {\n        var denominator = TRANSFORM ? slideCountNew : items;\n        val = - index * 100 / denominator + '%';\n      }\n    } else {\n      val = - slideOffsetTops[index] + 'px';\n    }\n    return val;\n  }\n\n  function doContainerTransform (val) {\n    if (!val) { val = getContainerTransformValue(); }\n    container.style[transformAttr] = transformPrefix + val + transformPostfix;\n  }\n\n  function animateSlide (number, classOut, classIn, isOut) {\n    for (var i = number, l = number + items; i < l; i++) {\n      var item = slideItems[i];\n\n      // set item positions\n      if (!isOut) { item.style.left = (i - index) * 100 / items + '%'; }\n\n      if (TRANSITIONDURATION) { setDurations(speed, item); }\n      if (animateDelay && TRANSITIONDELAY) {\n        item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n      }\n      removeClass(item, classOut);\n      addClass(item, classIn);\n      \n      if (isOut) { slideItemsOut.push(item); }\n    }\n  }\n\n  // make transfer after click/drag:\n  // 1. change 'transform' property for mordern browsers\n  // 2. change 'left' property for legacy browsers\n  var transformCore = (function () {\n    // carousel\n    if (carousel) {\n      return function (duration, distance) {\n        if (!distance) { distance = getContainerTransformValue(); }\n        // constrain the distance when non-loop no-edgePadding fixedWidth reaches the right edge\n        if (hasRightDeadZone && index === indexMax) {\n          var containerRightEdge = TRANSFORM ? \n              - ((slideCountNew - items) / slideCountNew) * 100 : \n              - (slideCountNew / items - 1) * 100; \n          distance = Math.max(parseFloat(distance), containerRightEdge) + '%';\n        }\n\n        if (TRANSITIONDURATION || !duration) {\n          doContainerTransform(distance);\n          if (speed === 0) { onTransitionEnd(); }\n        } else {\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, distance, speed, onTransitionEnd);\n        }\n\n        if (!horizontal) { updateContentWrapperHeight(); }\n      };\n\n    // gallery\n    } else {\n      return function () {\n        slideItemsOut = [];\n\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn);\n\n        if (!TRANSITIONEND || !ANIMATIONEND || speed === 0) { setTimeout(onTransitionEnd, 0); }\n      };\n    }\n  })();\n\n  function doTransform (duration, distance) {\n    if (duration === undefined) { duration = speed; }\n    if (TRANSITIONDURATION) { setDurations(duration); }\n    transformCore(duration, distance);\n\n    updateSlideStatus();\n    // loop: update nav visibility when visibleNavIndexes doesn't contain current index\n    if (nav && visibleNavIndexes.indexOf(index%slideCount) < 0) {\n      updateNavVisibility(); \n    }\n    updateNavStatus();\n    updateControlsStatus();\n    lazyLoad();\n  }\n\n  function render () {\n    if (checkIndexBeforeTransform) { checkIndex(); }\n    if (index !== indexCached) {\n      // events\n      events.emit('indexChanged', info());\n      events.emit('transitionStart', info());\n\n      running = true;\n      doTransform();\n    }\n\n  }\n\n  /*\n   * Transfer prefixed properties to the same format\n   * CSS: -Webkit-Transform => webkittransform\n   * JS: WebkitTransform => webkittransform\n   * @param {string} str - property\n   *\n   */\n  function strTrans (str) {\n    return str.toLowerCase().replace(/-/g, '');\n  }\n\n  // AFTER TRANSFORM\n  // Things need to be done after a transfer:\n  // 1. check index\n  // 2. add classes to visible slide\n  // 3. disable controls buttons when reach the first/last slide in non-loop slider\n  // 4. update nav status\n  // 5. lazyloadhttps://gizzaprogger.github.io/project_chicaga/images\n  // 6. update container height\n  function onTransitionEnd (event) {\n    // check running on gallery mode\n    // make sure trantionend/animationend events run only once\n    if (carousel || running) {\n      events.emit('transitionEnd', info(event));\n\n      if (!carousel && slideItemsOut.length > 0) {\n        for (var i = 0; i < items; i++) {\n          var item = slideItemsOut[i];\n          // set item positions\n          item.style.left = '';\n\n          if (TRANSITIONDURATION) { setDurations(0, item); }\n          if (animateDelay && TRANSITIONDELAY) { \n            item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = '';\n          }\n          removeClass(item, animateOut);\n          addClass(item, animateNormal);\n        }\n      }\n\n      /* update slides, nav, controls after checking ...\n       * => legacy browsers who don't support 'event' \n       *    have to check event first, otherwise event.target will cause an error \n       * => or 'gallery' mode: \n       *   + event target is slide item\n       * => or 'carousel' mode: \n       *   + event target is container, \n       *   + event.property is the same with transform attribute\n       */\n      if (!event || \n          !carousel && event.target.parentNode === container || \n          event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n\n        if (!checkIndexBeforeTransform) { \n          var indexTem = index;\n          checkIndex();\n          if (index !== indexTem) { \n            if (TRANSITIONDURATION) { setDurations(0); }\n            doContainerTransform();\n            events.emit('indexChanged', info());\n          }\n        } \n\n        runAutoHeight();\n\n        if (nested === 'inner') { events.emit('innerLoaded', info()); }\n        running = false;\n        navCurrentIndexCached = navCurrentIndex;\n        indexCached = index;\n      }\n    }\n\n  }\n\n  // # ACTIONS\n  function goTo (targetIndex) {\n    if (freeze) { return; }\n\n    // prev slideBy\n    if (targetIndex === 'prev') {\n      onControlsClick(null, -1);\n\n    // next slideBy\n    } else if (targetIndex === 'next') {\n      onControlsClick(null, 1);\n\n    // go to exact slide\n    } else if (!running) {\n      var absIndex = index%slideCount, \n          indexGap = 0;\n      if (!loop && checkOption('edgePadding')) { absIndex--; }\n      if (absIndex < 0) { absIndex += slideCount; }\n\n      if (targetIndex === 'first') {\n        indexGap = - absIndex;\n      } else if (targetIndex === 'last') {\n        indexGap = slideCount - items - absIndex;\n      } else {\n        if (typeof targetIndex !== 'number') { targetIndex = parseInt(targetIndex); }\n        if (!isNaN(targetIndex)) {\n          var absTargetIndex = targetIndex%slideCount;\n          if (absTargetIndex < 0) { absTargetIndex += slideCount; }\n          if (!loop && edgePadding) { absTargetIndex += 1; }\n          indexGap = absTargetIndex - absIndex;\n        }\n      }\n\n      index += indexGap;\n\n      // if index is changed, start rendering\n      if (index%slideCount !== indexCached%slideCount) {\n        render();\n      }\n\n    }\n  }\n\n  // on controls click\n  function onControlsClick (e, dir) {\n    if (!running) {\n      var shouldRender;\n\n      if (!dir) {\n        e = e || win.event;\n        var target = e.target || e.srcElement;\n        while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) { target = target.parentNode; }\n      }\n\n      if (target && target === prevButton || dir === -1) {\n        if (index > indexMin) {\n          index -= slideBy;\n          shouldRender = true;\n        }\n      } else if (target && target === nextButton || dir === 1) {\n        // Go to the first if reach the end in rewind mode\n        // Otherwise go to the next\n        if (rewind && index === indexMax){\n          goTo(0);\n        } else if (index < indexMax) {\n          index += slideBy;\n          shouldRender = true;\n        }\n      }\n\n      if (shouldRender) { render(); }\n    }\n  }\n\n  // on nav click\n  function onNavClick (e) {\n    if (!running) {\n      e = e || win.event;\n      var target = e.target || e.srcElement,\n          navIndex;\n\n      // find the clicked nav item\n      while (target !== navContainer && !hasAttr(target, 'data-nav')) { target = target.parentNode; }\n      if (hasAttr(target, 'data-nav')) {\n        navIndex = navClicked = [].indexOf.call(navItems, target);\n        goTo(navIndex);\n      }\n    }\n  }\n\n  function updateAutoplayButton (action, txt) {\n    setAttrs(autoplayButton, {'data-action': action});\n    autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n  }\n\n  function startAction () {\n    resetActionTimer();\n    if (autoplayButton) { updateAutoplayButton('stop', autoplayText[1]); }\n\n    animating = true;\n  }\n\n  function stopAction () {\n    pauseActionTimer();\n    if (autoplayButton) { updateAutoplayButton('start', autoplayText[0]); }\n\n    animating = false;\n  }\n\n  function pauseActionTimer () {\n    animating = 'paused';\n    clearInterval(autoplayTimer);\n  }\n\n  function resetActionTimer () {\n    if (animating === true) { return; }\n    clearInterval(autoplayTimer);\n    autoplayTimer = setInterval(function () {\n      onControlsClick(null, autoplayDirection);\n    }, autoplayTimeout);\n  }\n\n  function toggleAnimation () {\n    if (animating) {\n      stopAction();\n    } else {\n      startAction();\n    }\n  }\n\n  function onVisibilityChange () {\n    if (autoplayResetVisibilityState != doc.hidden && animating !== false) {\n      doc.hidden ? pauseActionTimer() : resetActionTimer();\n    }\n    autoplayResetVisibilityState = doc.hidden;\n  }\n\n  // keydown events on document \n  function onDocumentKeydown (e) {\n    e = e || win.event;\n    switch(e.keyCode) {\n      case KEYS.LEFT:\n        onControlsClick(null, -1);\n        break;\n      case KEYS.RIGHT:\n        onControlsClick(null, 1);\n    }\n  }\n\n  // on key control\n  function onControlsKeydown (e) {\n    e = e || win.event;\n    var code = e.keyCode;\n\n    switch (code) {\n      case KEYS.LEFT:\n      case KEYS.UP:\n      case KEYS.PAGEUP:\n          if (!prevButton.disabled) {\n            onControlsClick(null, -1);\n          }\n          break;\n      case KEYS.RIGHT:\n      case KEYS.DOWN:\n      case KEYS.PAGEDOWN:\n          if (!nextButton.disabled) {\n            onControlsClick(null, 1);\n          }\n          break;\n      case KEYS.HOME:\n        goTo(0);\n        break;\n      case KEYS.END:\n        goTo(slideCount - 1);\n        break;\n    }\n  }\n\n  // set focus\n  function setFocus (focus) {\n    focus.focus();\n  }\n\n  // on key nav\n  function onNavKeydown (e) {\n    var curElement = doc.activeElement;\n    if (!hasAttr(curElement, 'data-nav')) { return; }\n\n    e = e || win.event;\n    var code = e.keyCode,\n        navIndex = [].indexOf.call(navItems, curElement),\n        len = visibleNavIndexes.length,\n        current = visibleNavIndexes.indexOf(navIndex);\n\n    if (options.navContainer) {\n      len = slideCount;\n      current = navIndex;\n    }\n\n    function getNavIndex (num) {\n      return options.navContainer ? num : visibleNavIndexes[num];\n    }\n\n    switch(code) {\n      case KEYS.LEFT:\n      case KEYS.PAGEUP:\n        if (current > 0) { setFocus(navItems[getNavIndex(current - 1)]); }\n        break;\n\n      case KEYS.UP:\n      case KEYS.HOME:\n        if (current > 0) { setFocus(navItems[getNavIndex(0)]); }\n        break;\n\n      case KEYS.RIGHT:\n      case KEYS.PAGEDOWN:\n        if (current < len - 1) { setFocus(navItems[getNavIndex(current + 1)]); }\n        break;\n\n      case KEYS.DOWN:\n      case KEYS.END:\n        if (current < len - 1) { setFocus(navItems[getNavIndex(len - 1)]); }\n        break;\n\n      // Can't use onNavClick here,\n      // Because onNavClick require event.target as nav items\n      case KEYS.ENTER:\n      case KEYS.SPACE:\n        navClicked = navIndex;\n        goTo(navIndex);\n        break;\n    }\n  }\n\n  // IE10 scroll function\n  function ie10Scroll () {\n    doTransform(0, container.scrollLeft());\n    indexCached = index;\n  }\n\n  function getTarget (e) {\n    return e.target || e.srcElement;\n  }\n\n  function isTouchEvent (e) {\n    return e.type.indexOf('touch') >= 0;\n  }\n\n  function preventDefaultBehavior (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      } else {\n        e.returnValue = false;\n      }\n  }\n\n  function onTouchOrMouseStart (e) {\n    e = e || win.event;\n    var ev;\n\n    if (isTouchEvent(e)) {\n      ev = e.changedTouches[0];\n      events.emit('touchStart', info(e));\n    } else {\n      ev = e;\n      preventDefaultBehavior(e);\n      events.emit('dragStart', info(e));\n    }\n\n    startX = parseInt(ev.clientX);\n    startY = parseInt(ev.clientY);\n    translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, '').replace(transformPostfix, ''));\n  }\n\n  function onTouchOrMouseMove (e) {\n    e = e || win.event;\n    // make sure touch started or mouse draged\n    if (startX !== null) {\n      var ev;\n      if (isTouchEvent(e)) {\n        ev = e.changedTouches[0];\n      } else {\n        ev = e;\n        preventDefaultBehavior(e);\n      }\n\n      disX = parseInt(ev.clientX) - startX;\n      disY = parseInt(ev.clientY) - startY;\n\n      if (getTouchDirection(toDegree(disY, disX), 15) === options.axis && disX) {\n        if (isTouchEvent(e)) {\n          events.emit('touchMove', info(e));\n        } else {\n          // \"mousemove\" event after \"mousedown\" indecate \n          // it is \"drag\", not \"click\"\n          if (!isDragEvent) { isDragEvent = true; }\n          events.emit('dragMove', info(e));\n        }\n        if (!touchedOrDraged) { touchedOrDraged = true; }\n\n        var x = translateInit;\n        if (horizontal) {\n          if (fixedWidth) {\n            x += disX;\n            x += 'px';\n          } else {\n            var percentageX = TRANSFORM ? disX * items * 100 / (vpInner * slideCountNew): disX * 100 / vpInner;\n            x += percentageX;\n            x += '%';\n          }\n        } else {\n          x += disY;\n          x += 'px';\n        }\n\n        if (TRANSFORM) { setDurations(0); }\n        container.style[transformAttr] = transformPrefix + x + transformPostfix;\n      }\n    }\n  }\n\n  function onTouchOrMouseEnd (e) {\n    e = e || win.event;\n\n    if (touchedOrDraged) {\n      touchedOrDraged = false;\n      var ev;\n\n      if (isTouchEvent(e)) {\n        ev = e.changedTouches[0];\n        events.emit('touchEnd', info(e));\n      } else {\n        ev = e;\n        events.emit('dragEnd', info(e));\n      }\n\n      disX = parseInt(ev.clientX) - startX;\n      disY = parseInt(ev.clientY) - startY;\n\n      // reset startX, startY\n      startX = startY = null;\n\n      if (horizontal) {\n        var indexMoved = - disX * items / vpInner;\n        indexMoved = disX > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n        index += indexMoved;\n      } else {\n        var moved = - (translateInit + disY);\n        if (moved <= 0) {\n          index = indexMin;\n        } else if (moved >= slideOffsetTops[slideOffsetTops.length - 1]) {\n          index = indexMax;\n        } else {\n          var i = 0;\n          do {\n            i++;\n            index = disY < 0 ? i + 1 : i;\n          } while (i < slideCountNew && moved >= slideOffsetTops[i + 1]);\n        }\n      }\n      \n      render();\n\n      // drag vs click\n      if (isDragEvent) { \n        // reset isDragEvent\n        isDragEvent = false;\n\n        // prevent \"click\"\n        var target = getTarget(e);\n        addEvents(target, {'click': function preventClick (e) {\n          preventDefaultBehavior(e);\n          removeEvents(target, {'click': preventClick});\n        }}); \n      } \n    }\n  }\n\n  // === RESIZE FUNCTIONS === //\n  // (slideOffsetTops, index, items) => vertical_conentWrapper.height\n  function updateContentWrapperHeight () {\n    innerWrapper.style.height = slideOffsetTops[index + items] - slideOffsetTops[index] + 'px';\n  }\n\n  /*\n   * get nav item indexes per items\n   * add 1 more if the nav items cann't cover all slides\n   * [0, 1, 2, 3, 4] / 3 => [0, 3]\n   */\n  function getVisibleNavIndex () {\n    // reset visibleNavIndexes\n    visibleNavIndexes = [];\n\n    var temIndex = !loop && edgePadding ? (index - 1) : index;\n    var absIndexMin = temIndex%slideCount%items;\n    while (absIndexMin < slideCount) {\n      if (!loop && absIndexMin + items > slideCount) { absIndexMin = slideCount - items; }\n      visibleNavIndexes.push(absIndexMin);\n      absIndexMin += items;\n    }\n\n    // nav count * items < slide count means\n    // some slides can not be displayed only by nav clicking\n    if (loop && visibleNavIndexes.length * items < slideCount ||\n        !loop && visibleNavIndexes[0] > 0) {\n      visibleNavIndexes.unshift(0);\n    }\n  }\n  \n  /*\n   * 1. update visible nav items list\n   * 2. add \"hidden\" attributes to previous visible nav items\n   * 3. remove \"hidden\" attrubutes to new visible nav items\n   */\n  function updateNavVisibility () {\n    if (!nav || options.navContainer) { return; }\n\n    // update visible nav indexes\n    getVisibleNavIndex();\n\n    if (visibleNavIndexes !== visibleNavIndexesCached) {\n      // add 'hidden' attribute to previous visible navs\n      if (visibleNavIndexesCached.length > 0) {\n        visibleNavIndexesCached.forEach(function (ind) {\n          hideElement(navItems[ind]);\n        });\n      }\n\n      // remove 'hidden' attribute from visible navs\n      if (visibleNavIndexes.length > 0) {\n        visibleNavIndexes.forEach(function (ind) {\n          showElement(navItems[ind]);\n        });\n      }\n\n      // cache visible nav indexes\n      visibleNavIndexesCached = visibleNavIndexes;\n    }\n  }\n\n  function info (e) {\n    return {\n      container: container,\n      slideItems: slideItems,\n      navContainer: navContainer,\n      navItems: navItems,\n      controlsContainer: controlsContainer,\n      prevButton: prevButton,\n      nextButton: nextButton,\n      items: items,\n      slideBy: slideBy,\n      cloneCount: cloneCount,\n      slideCount: slideCount,\n      slideCountNew: slideCountNew,\n      index: index,\n      indexCached: indexCached,\n      navCurrentIndex: navCurrentIndex,\n      navCurrentIndexCached: navCurrentIndexCached,\n      visibleNavIndexes: visibleNavIndexes,\n      visibleNavIndexesCached: visibleNavIndexesCached,\n      event: e || {},\n    };\n  }\n\n  return {\n    getInfo: info,\n    events: events,\n    goTo: goTo,\n\n    destroy: function () {\n      // sheet\n      sheet.disabled = true;\n\n      // cloned items\n      if (loop) {\n        for (var j = cloneCount; j--;) {\n          slideItems[0].remove();\n          slideItems[slideItems.length - 1].remove();\n        }\n      }\n\n      // Slide Items\n      for (var i = slideCount; i--;) {\n        var slide = slideItems[i];\n        if (slide.id.indexOf(slideId + '-item') >= 0) { slide.id = ''; }\n        slide.classList.remove('tns-item');\n      }\n      removeAttrs(slideItems, ['style', 'aria-hidden', 'tabindex']);\n      slideItems = slideId = slideCount = slideCountNew = cloneCount = null;\n\n      // controls\n      if (controls) {\n        removeEvents(controlsContainer, controlsEvents);\n        if (options.controlsContainer) {\n          removeAttrs(controlsContainer, ['aria-label', 'tabindex']);\n          removeAttrs(controlsContainer.children, ['aria-controls', 'aria-disabled', 'tabindex']);\n        }\n        controlsContainer = prevButton = nextButton = null;\n      }\n\n      // nav\n      if (nav) {\n        removeEvents(navContainer, navEvents);\n        if (options.navContainer) {\n          removeAttrs(navContainer, ['aria-label']);\n          removeAttrs(navItems, ['aria-selected', 'aria-controls', 'tabindex']);\n        }\n        navContainer = navItems = null;\n      }\n\n      // auto\n      if (autoplay) {\n        if (autoplayButton) {\n          removeEvents(autoplayButton, {'click': toggleAnimation});\n        }\n        removeEvents(container, hoverEvents);\n        removeEvents(container, visibilityEvent);\n        if (options.autoplayButton) {\n          removeAttrs(autoplayButton, ['data-action'])\n        }\n      }\n\n      // container\n      container.id = containerIdCached || '';\n      container.className = container.className.replace(classContainer, '');\n      container.style = '';\n      if (carousel && TRANSITIONEND) {\n        var eve = {};\n        eve[TRANSITIONEND] = onTransitionEnd;\n        removeEvents(container, eve);\n      }\n      removeEvents(container, touchEvents);\n      removeEvents(container, dragEvents);\n\n      // outerWrapper\n      containerParent.insertBefore(container, outerWrapper);\n      outerWrapper.remove();\n      outerWrapper = innerWrapper = container = null;\n\n      // remove arrowKeys eventlistener\n      removeEvents(doc, docmentKeydownEvent);\n\n      // remove win event listeners\n      removeEvents(win, {'resize': onResize});\n    }\n  };\n};","// get subpixel support value\n// @return - boolean\nimport './childNode.remove';\nimport { getBody } from './getBody';\nimport { setFakeBody } from './setFakeBody';\nimport { resetFakeBody } from './resetFakeBody';\n\nexport function subpixelLayout() {\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      parent = doc.createElement('div'),\n      child1 = doc.createElement('div'),\n      child2,\n      supported;\n\n  parent.style.cssText = 'width: 10px';\n  child1.style.cssText = 'float: left; width: 5.5px; height: 10px;';\n  child2 = child1.cloneNode(true);\n\n  parent.appendChild(child1);\n  parent.appendChild(child2);\n  body.appendChild(parent);\n\n  supported = child1.offsetTop !== child2.offsetTop;\n\n  body.fake ? resetFakeBody(body, docOverflow) : parent.remove();\n\n  return supported;\n}","// get css-calc \n// @return - false | calc | -webkit-calc | -moz-calc\n// @usage - var calc = getCalc(); \nimport './childNode.remove';\nimport { getBody } from './getBody';\nimport { setFakeBody } from './setFakeBody';\nimport { resetFakeBody } from './resetFakeBody';\n\nexport function calc() {\n  var doc = document, \n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'), \n      result = false;\n\n  body.appendChild(div);\n  try {\n    var vals = ['calc(10px)', '-moz-calc(10px)', '-webkit-calc(10px)'], val;\n    for (var i = 0; i < 3; i++) {\n      val = vals[i];\n      div.style.width = val;\n      if (div.offsetWidth === 10) { \n        result = val.replace('(10px)', ''); \n        break;\n      }\n    }\n  } catch (e) {}\n  \n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return result;\n}","import './childNode.remove';\nimport { getBody } from './getBody';\nimport { setFakeBody } from './setFakeBody';\nimport { resetFakeBody } from './resetFakeBody';\n\nexport function mediaquerySupport () {\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      style = doc.createElement('style'),\n      rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n      position;\n\n  style.type = 'text/css';\n  div.className = 'tns-mq-test';\n\n  body.appendChild(style);\n  body.appendChild(div);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = rule;\n  } else {\n    style.appendChild(doc.createTextNode(rule));\n  }\n\n  position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n\n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return position === \"absolute\";\n}","export function extend() {\n  var obj, name, copy,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length;\n\n  for (; i < length; i++) {\n    if ((obj = arguments[i]) !== null) {\n      for (name in obj) {\n        copy = obj[name];\n\n        if (target === copy) {\n          continue;\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n  return target;\n}","export function getSlideId() {\n  var id = window.tnsId;\n  window.tnsId = !id ? 1 : id + 1;\n  \n  return 'tns' + window.tnsId;\n}","// create and append style sheet\nexport function createStyleSheet (media) {\n  // Create the <style> tag\n  var style = document.createElement(\"style\");\n  // style.setAttribute(\"type\", \"text/css\");\n\n  // Add a media (and/or media query) here if you'd like!\n  // style.setAttribute(\"media\", \"screen\")\n  // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n  if (media) { style.setAttribute(\"media\", media); }\n\n  // WebKit hack :(\n  // style.appendChild(document.createTextNode(\"\"));\n\n  // Add the <style> element to the page\n  document.querySelector('head').appendChild(style);\n\n  return style.sheet ? style.sheet : style.styleSheet;\n};","export function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n  var tick = Math.min(duration, 10),\n      unit = (to.indexOf('%') >= 0) ? '%' : 'px',\n      to = to.replace(unit, ''),\n      from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n      positionTick = (to - from) / duration * tick,\n      running;\n\n  setTimeout(moveElement, tick);\n  function moveElement() {\n    duration -= tick;\n    from += positionTick;\n    element.style[attr] = prefix + from + unit + postfix;\n    if (duration > 0) { \n      setTimeout(moveElement, tick); \n    } else {\n      callback();\n    }\n  }\n}","export function getAttr(el, attr) {\n  return el.getAttribute(attr);\n}","// check if an image is loaded\n// 1. See if \"naturalWidth\" and \"naturalHeight\" properties are available.\n// 2. See if \"complete\" property is available.\n\nexport function imageLoaded(img) {\n  if (typeof img.complete === 'boolean') {\n    return img.complete;\n  } else if (typeof img.naturalWidth === 'number') {\n    return img.naturalWidth !== 0;\n  }\n}","export function getTouchDirection(angle, range) {\n  var direction = false,\n      gap = Math.abs(90 - Math.abs(angle));\n      \n  if (gap >= 90 - range) {\n    direction = 'horizontal';\n  } else if (gap <= range) {\n    direction = 'vertical';\n  }\n\n  return direction;\n}","export function toDegree (y, x) {\n  return Math.atan2(y, x) * (180 / Math.PI);\n}","import { tns } from \"tiny-slider/src/tiny-slider\"\r\n\r\nconst slidersFactory = () => {\r\n  let o = {\r\n    init() {\r\n      self.photoSlider = tns({\r\n        container: \".slider-photo\",\r\n        items: 1,\r\n        center: true,\r\n        gutter: 30,\r\n        prevButton: \".slider-foto-schools [data-slider-prev]\",\r\n        nextButton: \".slider-foto-schools [data-slider-next]\",\r\n        controlsContainer: \".photo-slider__nav\"\r\n      })\r\n      self.autoPlayWhileNotClicked(self.photoSlider);\r\n      self.reviewsSlider = tns({\r\n        container: \".reviews-slider\",\r\n        controlsContainer: \".reviews__nav\",\r\n        nav: false,\r\n        items: 1\r\n      })\r\n      return self;\r\n    },\r\n    initNavs(slider) {\r\n      let parent = slider.carouselElement.parentElement; \r\n      let next = parent.querySelector(\"[data-slider-next]\");\r\n      let back = parent.querySelector(\"[data-slider-back]\");\r\n      if (next) {\r\n        next.addEventListener(\"click\", () => slider.next());\r\n      }\r\n      if (back) {\r\n        back.addEventListener(\"click\", () => slider.prev());\r\n      }\r\n      return self;\r\n    },\r\n    autoPlayWhileNotClicked(slider, interval = 5000) {\r\n      if (!slider) return;\r\n      let iId = setInterval(() => {\r\n        slider.goTo(\"next\")\r\n      }, interval);\r\n      slider.getInfo().container.addEventListener(\"click\", () => {\r\n        clearInterval(iId);\r\n      })\r\n    }\r\n  }\r\n  let self = o;\r\n  return o;\r\n}\r\n\r\nexport default () => {\r\n  return slidersFactory().init();\r\n}","const formFactory = () => {\r\n  let o = {\r\n    init() {\r\n      document.querySelectorAll(\"form\").forEach(form => {\r\n        form.addEventListener(\"submit\", async e => {\r\n          e.preventDefault();\r\n          let msg = self.msgFromForm(form);\r\n          let formData = new FormData();\r\n          formData.append('auth_token', \"qz_BX&f-~QEta'kl:H+3Qsc$*Q'/kvjDsdfdf3AETdOMr'z}[(<F2q8,]<*e?P:]Mf\");\r\n          formData.append('label', \"Заявка с сайта\");\r\n          formData.append('msg', msg);\r\n\r\n          let r = await fetch(\"https://chicaga.ru/rest/mail\", {\r\n            method: \"POST\",\r\n            body: formData\r\n          });\r\n          \r\n          r = await r.json();\r\n          if (form.dataset.redirectTo) {\r\n            console.log(`${form.dataset.redirectTo}?${self.getQuery(form)}`)\r\n            location.href = `${form.dataset.redirectTo}?${self.getQuery(form)}` ;\r\n          } else if(r.object) {\r\n            alert(String(r.object))\r\n          }\r\n        })\r\n      })\r\n    },\r\n    msgFromForm(form) {\r\n      let msg = \"Заявка со страницы:\" + location.href + \"<br>\";\r\n      let formTitle = form.dataset.name;\r\n      if (formTitle) msg += `название формы ${formTitle}<br>`;\r\n      form.querySelectorAll(\"input, select, textarea\").forEach(el => {\r\n        let label = el.dataset.name || el.dataset.label;\r\n        if (!label) return;\r\n        msg += `${label}: ${el.value}<br>`;\r\n      })\r\n      return msg;\r\n    },\r\n    getQuery(form) {\r\n      let q = \"\"\r\n      form.querySelectorAll(\"input, select, textarea\").forEach(el => {\r\n        let label = el.dataset.name || el.dataset.label;\r\n        if (!label) return;\r\n        q += `${label}=${el.value}&<br>`;\r\n      })\r\n      return q;\r\n    }\r\n  }\r\n  let self = o;\r\n  return o;\r\n}\r\n\r\nexport default () => {\r\n  formFactory().init();\r\n}","import styles from \"/src/styles/main.scss\";\r\n\r\nimport OutherInit from \"/src/scripts/outher.js\";\r\nimport { Quiz, resultsTexts, levels } from \"/src/scripts/quiz.js\";\r\nimport Tip from \"/src/scripts/tip.js\";\r\nimport Video from \"/src/scripts/video.js\";\r\nimport Modals from \"/src/scripts/modals.js\";\r\nimport Observer from \"/src/scripts/observer.js\";\r\nimport SlidersInit from \"/src/scripts/slidersInit.js\";\r\nimport FormInit from \"/src/scripts/sendForm.js\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  OutherInit();\r\n  Tip.init();\r\n  Video.init();\r\n\r\n  Quiz.init(\"#email-form-3\", {\r\n    resultsTexts,\r\n    levels\r\n  });\r\n\r\n  let modals = Modals.init({\r\n    closeSelector: \".closure_link\"\r\n  });\r\n\r\n  Observer.init([\r\n    Modals.onMutation || (() => {}),\r\n    Tip.onMutation || (() => {}),\r\n    Video.onMutation || (() => {}),\r\n    Quiz.onMutation || (() => {}),\r\n    Quiz.onMutation || (() => {}),\r\n  ]);\r\n\r\n  SlidersInit();\r\n  FormInit();\r\n\r\n  let exitModalDontOpened = true;\r\n  document.addEventListener(\"mouseout\", e => {\r\n    if (exitModalDontOpened && !e.relatedTarget) {\r\n      exitModalDontOpened = false;\r\n      modals.openModal(\"exit\")\r\n    }\r\n  })\r\n});"],"sourceRoot":""}